import{v as be,n as xe,r as m,o as B,c as v,a as p,b as e,w as V,d as Y,e as r,u as y,f as we,g as X,h as ce,F as j,i as T,t as u,j as k,k as D,l as ye,m as C,p as $e,q as O,s as ke,x as W,y as ee,z as q,A as Q,B as se,C as re,D as De,E as L,G as Ce,H as Se,I as je,J as Ie,K as Te,L as J,M as Ne,N as Fe,O as Ge,P as Ae,Q as le,R as Oe,S as Le,T as He,U as Ve,V as Ke}from"./vendor.71a5694f.js";const ze=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(t){if(t.ep)return;t.ep=!0;const c=s(t);fetch(t.href,c)}};ze();function Ee(o={}){const{immediate:n=!1,onNeedRefresh:s,onOfflineReady:i,onRegistered:t,onRegisterError:c}=o;let a,l;const h=async(d=!0)=>{d&&(a==null||a.addEventListener("controlling",w=>{w.isUpdate&&window.location.reload()})),l&&l.waiting&&await xe(l.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){a=new be("/sw.js",{scope:"/",type:"classic"}),a.addEventListener("activated",d=>{d.isUpdate||i==null||i()});{const d=()=>{s==null||s()};a.addEventListener("waiting",d),a.addEventListener("externalwaiting",d)}a.register({immediate:n}).then(d=>{l=d,t==null||t(d)}).catch(d=>{c==null||c(d)})}return h}const Me={class:"h-screen w-screen"},Pe={class:"z-10 bg-white fixed bottom-0 w-full border-t border-gray-200 flex"},Re={class:"text-center"},Be={class:"block h-8 text-3xl leading-8"},Je=e("span",{class:"block text-xs leading-none"},"Ligen",-1),Ue={class:"text-center"},We={class:"block h-8 text-3xl leading-8"},qe=e("span",{class:"block text-xs leading-none"},"Favoriten",-1),Qe={class:"text-center"},Ze={class:"block h-8 text-3xl leading-8"},Ye=e("span",{class:"block text-xs leading-none"},"Suche",-1),Xe={setup(o){"serviceWorker"in navigator&&Ee();const n=m([]);return m({}),B(()=>{console.log("onMounted"),n.value=JSON.parse(localStorage.getItem("favorites")||"[]")}),(s,i)=>{const t=Y("router-view"),c=Y("router-link");return r(),v("div",Me,[p(t),e("div",Pe,[p(c,{to:"leagues",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:V(()=>[e("div",Re,[e("span",Be,[p(y(we),{class:"h-7 w-7 mx-auto"})]),Je])]),_:1}),p(c,{to:"favorites","active-class":"text-indigo-500",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500"},{default:V(()=>[e("div",Ue,[e("span",We,[p(y(X),{class:"h-7 w-7 mx-auto"})]),qe])]),_:1}),p(c,{to:"search",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:V(()=>[e("div",Qe,[e("span",Ze,[p(y(ce),{class:"h-7 w-7 mx-auto"})]),Ye])]),_:1})])])}}};const es=e("div",{class:"ml-5 mt-3 mb-3 absolute"},[e("h1",{class:"text-3xl font-bold"},"Suche"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"},"Verein / Halle")],-1),ss={class:"flex justify-center w-full pt-20"},ts={class:"flex w-4/6"},as={class:"w-4/6 mx-auto"},ls=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Verein",-1),os={id:"clubs"},ns=["onClick"],is={class:"text-sm text-gray-500"},cs=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Halle",-1),rs={id:"gyms"},ds=["onClick"],us={class:"text-sm text-gray-500"},ms={setup(o){const n=m(!1);m([]),m(""),m("Show more");const s=m([]),i=m([]);m("");const t=async c=>{n.value=!0;const a=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+c),l=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=gs&gs="+c),h=await a.json(),d=await l.json();s.value=h[0].searchResult.list,i.value=d[0].searchResult.list,n.value=!1};return(c,a)=>(r(),v(j,null,[es,e("div",ss,[e("div",ts,[p(y(ce),{class:"ml-auto h-6 mt-2 text-neutral-800 mr-0 z-10"}),e("input",{type:"text",autocomplete:"off",class:"-ml-8 w-full pl-8 rounded-full",onInput:a[0]||(a[0]=l=>t(l.target.value))},null,32)])]),e("div",as,[ls,e("div",os,[(r(!0),v(j,null,T(s.value,l=>(r(),v("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:h=>c.$router.push("club#"+l.no)},u(l.lname),9,ns))),256)),k(e("div",is," Keine Ergebnisse ",512),[[D,s.value.length<1]])]),cs,e("div",rs,[(r(!0),v(j,null,T(i.value,l=>(r(),v("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:h=>c.$router.push("gym#"+l.no)},u(l.lname),9,ds))),256)),k(e("div",us," Keine Ergebnisse ",512),[[D,i.value.length<1]])])])],64))}},vs={},hs={class:"grid grid-cols-3 sm:grid-cols-6 gap-1"},gs={id:"teams",class:"text-black w-fit col-span-2 text-xs font-bold"},ps={id:"date-time",class:"w-fit text-xs text-gray-800"},fs={class:"flex"},_s={class:"flex"},bs={id:"location",class:"flex text-black col-span-2"},xs={class:"truncate text-xs"},ws={id:"score",class:"flex w-fit text-black"},ys={class:"min-w-[20px] mr-1 text-right"},$s=C(" : "),ks={class:"min-w-[20px] ml-1"},de={props:["match","teamID","teamClassID"],setup(o){return(n,s)=>(r(),v("div",{class:"rounded-lg bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all",onClick:s[0]||(s[0]=i=>{n.$router.push("match#"+o.match.gID+";"+o.teamID+";"+o.teamClassID)})},[e("div",hs,[e("div",gs,u(o.match.gHomeTeam)+" : "+u(o.match.gGuestTeam),1),e("div",ps,[e("div",fs,u(o.match.gWDay)+" "+u(o.match.gDate),1),e("div",_s,[p(y(ye),{class:"h-4 mr-1 text-indigo-900"}),C(" "+u(o.match.gTime),1)])]),e("div",bs,[p(y($e),{class:"h-4 w-4 text-indigo-900 shrink-0"}),e("span",xs,u(o.match.gGymnasiumName),1)]),e("div",ws,[e("div",ys,u(o.match.gHomeGoals),1),$s,e("div",ks,u(o.match.gGuestGoals),1)]),e("div",{id:"info",class:O(["col-span-3 text-xs text-gray-600",o.match.gComment.length>1?"flex":"hidden"])},[p(y(ke),{class:"h-4 w-4 mr-1"}),C(" "+u(o.match.gComment),1)],2)])]))}};var ue=(o,n)=>{const s=o.__vccOpts||o;for(const[i,t]of n)s[i]=t;return s};const Ds={},Cs={class:"rounded-lg xs:h-[76px] sm:h-[48px] h-[92px] w-full bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all"},Ss=W('<div class="grid grid-cols-3 sm:grid-cols-6 gap-1"><div id="teams" class="text-black w-fit col-span-2 text-xs font-bold"><span class="w-12 h-4 animate-pulse rounded -mb-1 bg-gray-500 inline-block"></span> : <span class="w-12 h-4 animate-pulse rounded -mb-1 bg-gray-500 inline-block"></span></div><div id="date-time" class="w-fit text-xs text-gray-800"><span class="inline-block w-6 animate-pulse rounded xs:hidden h-3 bg-gray-500"></span><div class="flex"><span class="w-4 mr-1 hidden xs:block animate-pulse rounded h-3 bg-gray-500"></span><span class="w-12 animate-pulse rounded h-3 bg-gray-500"></span></div><div class="flex"><div class="h-4 w-4 mt-0.5 animate-pulse bg-gray-500 rounded-full mr-1 shrink-0"></div><span class="w-8 h-3 mt-1 animate-pulse rounded m-0.5 bg-gray-500"></span></div></div><div id="location" class="flex text-black col-span-2 mt-1"><div class="h-4 w-4 bg-gray-500 animate-pulse rounded-full mr-1 shrink-0"></div><span class="truncate text-xs"><span class="w-20 rounded animate-pulse h-4 bg-gray-500 inline-block"></span></span></div><div id="score" class="flex w-fit text-black"><div class="min-w-[20px] mr-1 text-right"><span class="w-5 animate-pulse -mb-1 h-4 inline-block rounded bg-gray-500"></span></div> : <div class="min-w-[20px] ml-1"><span class="w-5 animate-pulse -mb-1 h-4 inline-block rounded bg-gray-500"></span></div></div></div>',1),js=[Ss];function Is(o,n){return r(),v("div",Cs,js)}var me=ue(Ds,[["render",Is]]);const te=async(o,n,s,i)=>{if(!o)return s.find(l=>l.gClassID===n).matches;const a=(await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+n+"&ct="+o)).json())[0].content.futureGames.games;return console.log(a),console.log(i),i?a:a.filter(l=>{const h=l.gDate.split("."),d=l.gTime.split(":"),w=new Date("20"+h[2],h[1]-1,h[0],d[0],d[1]);return w.setHours(w.getHours()+2),w>new Date})},ve=async(o,n,s)=>o?(await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+n+"&ct="+o)).json())[0]:s.find(c=>c.gClassID===n).matches,Ts=async(o,n)=>{const i=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=1&cmd=ps&cl="+o)).json();return i[0].content.score.length?i[0].content.score.filter(a=>a.tabTeamname.includes(n)).map(a=>a.tabTeamID):null},Ns=async o=>await(await fetch("https://spo.handball4all.de/service/if_ticker_data.php?token="+o+"&cmd=getAllGameInfo")).json(),oe=async o=>await(await fetch("https://spo.handball4all.de/service/if_ticker_data.php?token="+o+"&cmd=getAllTickerMessages")).json(),U=o=>{localStorage.setItem("favorites",JSON.stringify(o)),emit("updateFavorites")},he=async()=>{const o=localStorage.getItem("favorites");return o?JSON.parse(o):[]},Fs={class:"w-full h-full"},Gs=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Verein"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),As={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},Os=["src"],Ls={key:1},Hs={id:"club-info",class:"my-10 m-5 line-clamp-4 break-words"},Vs={class:"font-bold"},Ks={class:"text-gray-800"},zs={class:"text-gray-800"},Es=["href"],Ms={class:"w-5/6 m-auto pb-24"},Ps={class:"mt-3 flex justify-between"},Rs=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),Bs={class:"text-sm m-2"},Js=C(" Alle Spiele "),Us={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2"},Ws={class:"mr-4 ml-auto text-opacity-75"},qs={key:0,id:"games_loading"},Qs=e("hr",{class:"bg-gray-400 text-black h-[1.5px] -mt-3"},null,-1),Zs={class:"h-4 w-14 ml-auto mr-0 bg-indigo-300 rounded block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},Ys=C("Zum Team"),Xs=e("div",{id:"league-info"},null,-1),et={id:"no-data",class:"mb-2"},st={id:"no-future-matches"},ge={props:["club_no"],emits:["updateFavorites","disclosure-update"],setup(o,{emit:n}){const s=o,i=ee(),t=m({}),c=m([]),a=m([]),l=m(!0),h=m([]),d=m(null),w=m([]),S=m(!1);t.value={},m([]);const I=()=>{navigator.share?navigator.share({title:"Verein",text:t.value.lname,url:i.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},F=async()=>{let f="";s.club_no?f=s.club_no:f=i.hash.substring(1);const b=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+f)).json();t.value=b[0].searchResult.list[0]},G=async()=>{const x=await(await fetch("/club_address.json")).json();t.value.webaddress=x[t.value.no]},K=async()=>{const x=await(await fetch("https://spo.handball4all.de/misc/mobApp.php?jsoncallback=teamData&format=json&cmd=data&lvTypeNext=club&lvIDNext="+t.value.id)).text();new Function("teamData",x)(function(g){const _=g[0].dataList;var $=[];for(const N in _){let A=$.length-1;if(!$[A]||$[A].gClassID!=_[N].gClassID){const H={gClassID:_[N].gClassID,gClassSname:_[N].gClassSname,matches:[]};let Z=!1;H.gClassID||(H.gClassID=_[N].class,Z=!0),H.gClassSname||(H.gClassSname=_[N].class_sname,Z=!0),A=$.push(H)-1,Z||$[A].matches.push(_[N])}else $[A].matches.push(_[N])}c.value=$})},z=async f=>{l.value=!0,w.value=await Ts(f,t.value.lname),h.value={};for(const x of w.value)h.value[x]=await te(x,f,c.value,S.value);l.value=!1},E=()=>{if(!a.value.length)return!1;for(const f of a.value)if(f.type=="club"&&f.id==t.value.id)return!0},M=()=>{a.value.push({type:"club",id:t.value.id,name:t.value.lname,no:t.value.no}),U(a.value)},P=()=>{for(const f of a.value)f.type=="club"&&f.id==t.value.id&&a.value.splice(a.value.indexOf(f),1);U(a.value)},R=q(s,"club_no");return Q(R,async(f,x)=>{console.log("update club"),f&&forceUpdate()}),B(async()=>{await F(),a.value=await he(),await G(),await K()}),(f,x)=>{const b=Y("router-link");return r(),v("div",Fs,[Gs,e("div",As,[p(y(se),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-20 top-5",onClick:I}),k(p(y(X),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:M},null,512),[[D,!E()]]),k(p(y(re),{class:"h-6 w-6 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:P},null,512),[[D,E()]]),t.value?(r(),v("img",{key:0,src:"logos/clubs/"+t.value.no+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,Os)):(r(),v("div",Ls,"Loading...")),e("div",Hs,[e("div",Vs,u(t.value.lname),1),e("div",Ks,"Postleitzahl: "+u(t.value.postal),1),e("div",zs,"Nummer: "+u(t.value.no),1)]),e("a",{class:"absolute bottom-5 right-5 underline text-indigo-500 hover:text-indigo-800",href:"http://"+t.value.webaddress},u(t.value.webaddress),9,Es)]),e("div",Ms,[e("div",Ps,[Rs,e("div",Bs,[Js,k(e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"","onUpdate:modelValue":x[0]||(x[0]=g=>S.value=g),onClick:x[1]||(x[1]=g=>d.value?z(d.value):null)},null,512),[[De,S.value]])])]),e("div",Us,[(r(!0),v(j,null,T(c.value,g=>(r(),L(y(Ie),{key:g.gClassID},{default:V(({open:_})=>[p(y(Se),{class:O(["flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-indigo-900 bg-indigo-100 rounded-t-lg hover:bg-indigo-200 focus:outline-none focus-visible:ring focus-visible:ring-indigo-500 focus-visible:ring-opacity-75",[g.matches.length?"":"!text-gray-600 !bg-gray-200",g.gClassID!==d.value?"my-1 rounded-lg":""]]),onClick:$=>g.gClassID!==d.value?(d.value=g.gClassID,_=!0,z(g.gClassID)):(d.value=null,_=!1),disabled:!g.matches.length},{default:V(()=>[e("span",null,u(g.gClassSname),1),e("span",Ws,u(g.matches.length?"":"spielfrei"),1),p(y(Ce),{class:O(["w-5 h-5 text-indigo-900",[_?"transform rotate-180":"",g.matches.length?"":"!text-gray-500"]])},null,8,["class"])]),_:2},1032,["class","onClick","disabled"]),k(p(y(je),{static:"",class:"px-4 pt-4 pb-2 text-sm text-gray-500 bg-indigo-100 rounded-b-lg"},{default:V(()=>[l.value?(r(),v("div",qs,[Qs,k(e("span",Zs,null,512),[[D,l.value]]),(r(),v(j,null,T(3,$=>p(me,{key:$})),64))])):(r(!0),v(j,{key:1},T(h.value,($,N,A)=>(r(),v("div",{key:N},[e("hr",{class:O(["bg-gray-400 text-black h-[1.5px]",A===0?"-mt-3":""])},null,2),p(b,{to:"team#"+w.value[A]+";"+g.gClassID+";"+t.value.no,class:"ml-auto mr-0 w-fit block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},{default:V(()=>[Ys]),_:2},1032,["to"]),Xs,(r(!0),v(j,null,T($,H=>(r(),L(de,{key:H.gID,match:H,teamID:w.value[A],teamClassID:g.gClassID},null,8,["match","teamID","teamClassID"]))),128)),k(e("div",et,[k(e("div",st," Keine zuk\xFCnftigen Spiele ",512),[[D,!S.value]]),k(e("div",null," Keine Spiele in dieser Klasse ",512),[[D,S.value]])],512),[[D,!$.length]])]))),128))]),_:2},1536),[[D,g.gClassID===d.value]])]),_:2},1024))),128))])])])}}};var tt="/icons/goal.png",at="/icons/ball.svg";const lt={class:"flex p-1 m-1 bg-indigo-100 rounded-lg"},ot={class:"text-sm mr-1"},nt=["innerHTML"],it={class:"ml-auto hidden sm:flex mr-7 text-sm"},ct=e("img",{class:"h-5 w-5 mt-0.5 mr-1",src:tt,alt:""},null,-1),rt={class:"text-sm flex sm:ml-0 ml-auto mr-7 w-fit"},dt=e("img",{class:"h-4 mt-1",src:at,alt:""},null,-1),ut={class:"text-sm mr-2 sm:ml-5 <font-bold"},pe={props:["team_score"],setup(o){const n=s=>s.replace("/","/<wbr>");return(s,i)=>(r(),v("div",lt,[e("div",ot,u(o.team_score.tabScore),1),e("div",{class:"font-bold text-sm",innerHTML:n(o.team_score.tabTeamname)},null,8,nt),e("div",it,[ct,C(" "+u(o.team_score.numGoalsShot)+" : "+u(o.team_score.numGoalsGot),1)]),e("div",rt,[dt,C(" "+u(o.team_score.numPlayedGames),1)]),e("div",ut,u(o.team_score.pointsPlus),1)]))}},mt={},vt={class:"flex p-1 m-1 bg-indigo-100 rounded-lg"},ht=W('<div class="text-sm mr-1"><span class="bg-gray-500 animate-pulse h-4 w-20 mt-1 ml-1 inline-block rounded"></span></div><div class="font-bold text-sm"><span class="bg-gray-500 animate-pulse h-4 w-12"></span></div><div class="ml-auto hidden sm:flex mr-7 text-sm"><span class="bg-gray-500 animate-pulse h-4 w-4 rounded-full mr-1 mt-1"></span><span class="bg-gray-500 animate-pulse h-4 w-8 mt-1 rounded"></span> : <span class="bg-gray-500 animate-pulse h-4 w-8 mt-1 rounded"></span></div><div class="text-sm flex sm:ml-0 ml-auto mr-4 w-fit"><span class="bg-gray-500 animate-pulse h-4 w-4 rounded-full mr-1 mt-1"></span><span class="bg-gray-500 animate-pulse h-4 w-6 rounded mt-1"></span></div><div class="text-sm mr-2 sm:ml-5 font-bold"><span class="bg-gray-500 animate-pulse h-4 w-6 inline-block mt-1 rounded"></span></div>',5),gt=[ht];function pt(o,n){return r(),v("div",vt,gt)}var fe=ue(mt,[["render",pt]]);const ft={class:"w-full h-full"},_t=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Team"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),bt={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},xt=["src"],wt={key:1,class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-300 shadow-2xl bg-gray-300"},yt={id:"club-info",class:"my-12 m-5"},$t={class:"font-bold"},kt={class:"text-sm text-gray-900"},Dt={id:"scores",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},Ct=W('<div class="flex mt-1"><span class="font-bold ml-2"> Tabelle </span><span class="hidden sm:block ml-auto mr-9"> Tore </span><span class="sm:ml-0 ml-auto mr-5"> Spiele </span><span class="mr-2"> Punkte </span></div>',1),St={key:0},jt={class:"w-5/6 m-auto pb-24"},It={class:"mt-3 flex justify-between"},Tt=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),Nt={class:"text-sm m-2"},Ft=C(" Alle Spiele "),Gt={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},At={key:0},Ot={key:1},Lt=e("div",{id:"league-info"},null,-1),Ht={id:"no-data"},Vt={id:"no-future-matches"},_e={props:["team_id","team_class","team_club"],emits:["updateFavorites"],setup(o,{emit:n}){const s=o,i=ee(),t=m([]);m(!1);const c=m(!1),a=m([]),l=m(null),h=m(null),d=m(null),w=m(null),S=m(null),I=m(!1),F=()=>{navigator.share?navigator.share({title:"Team",text:w.value.head.name+" "+S.value.lname,url:i.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},G=async()=>{c.value=!0,w.value=await ve(h.value,l.value),a.value=await te(h.value,l.value,[],I.value),c.value=!1,console.log(a.value)},K=()=>{if(!t.value.length)return!1;for(const f of t.value)if(f.type=="team"&&f.id==h.value)return!0},z=()=>{console.log("add favorite"),t.value.push({type:"team",id:h,name:w.value.head.sname,classid:l.value,clubno:d.value,clubname:S.value.lname}),U(t.value)},E=()=>{console.log("remove favorite");for(const f of t.value)console.log(f.type),console.log(f.id),f.type=="team"&&f.id==h.value&&t.value.splice(t.value.indexOf(f),1);U(t.value)},M=q(s,"team_id");Q(M,async(f,x)=>{console.log("update club"),f&&forceUpdate()});const P=async()=>{const x=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+d.value)).json();S.value=x[0].searchResult.list[0]},R=async()=>{if(console.log(s.team_id),s.team_id&&s.team_class&&s.team_club)console.log("props"),h.value=s.team_id,l.value=s.team_class,d.value=s.team_club;else{const x=i.hash.substring(1).split(";");h.value=x[0],l.value=x[1],d.value=x[2]}console.log("teamID: "+h.value),console.log("teamClassID: "+l.value),console.log("teamClubNo: "+d.value)};return B(async()=>{await R(),t.value=await he(),await G(),await P()}),(f,x)=>(r(),v("div",ft,[_t,e("div",bt,[p(y(se),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-20 top-5",onClick:F}),k(p(y(X),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:z},null,512),[[D,!K()]]),k(p(y(re),{class:"h-6 w-6 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:E},null,512),[[D,K()]]),w.value?(r(),v("img",{key:0,src:"logos/clubs/"+d.value+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,xt)):(r(),v("div",wt,[p(y(Te),{class:"text-gray-700"})])),e("div",yt,[e("div",$t,u(w.value?w.value.head.name:""),1),e("div",kt,u(S.value?S.value.lname:""),1)])]),e("div",Dt,[Ct,c.value?(r(),v("div",St,[(r(),v(j,null,T(10,b=>p(fe,{key:b})),64))])):w.value?(r(!0),v(j,{key:1},T(w.value.content.score,b=>(r(),L(pe,{key:b.tabTeamID,team_score:b},null,8,["team_score"]))),128)):J("",!0)]),e("div",jt,[e("div",It,[Tt,e("div",Nt,[Ft,e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"",onClick:x[0]||(x[0]=b=>(I.value=!I.value,l.value?G():null))})])]),e("div",Gt,[c.value?(r(),v("div",At,[(r(),v(j,null,T(3,b=>p(me,{key:b})),64))])):(r(),v("div",Ot,[Lt,k(e("div",Ht,[k(e("div",Vt," Keine zuk\xFCnftigen Spiele ",512),[[D,!I.value]]),k(e("div",null," Keine Spiele in dieser Klasse ",512),[[D,I.value]])],512),[[D,!a.value.length]]),(r(!0),v(j,null,T(a.value,b=>(r(),L(de,{key:b.id,match:b,teamID:h.value,teamClassID:l.value},null,8,["match","teamID","teamClassID"]))),128))]))])])]))}},Kt={class:"w-full h-full"},zt={class:"mr-5 transition-all"},Et=["onClick"],Mt=["onClick"],Pt={class:"ml-0 mr-auto"},Rt={class:"ml-auto mr-0"},Bt={key:2,class:"w-[calc(100%-4rem)] h-full ml-auto mr-0 flex justify-center items-center px-5"},Jt=e("span",{class:"text-lg"},[C(" Noch keine Favoriten angelegt. "),e("br"),C(" Gehen Sie daf\xFCr zur Suche oder den Ligen. ")],-1),Ut=[Jt],Wt={setup(o){const n=m([]),s=m({}),i=m(!1),t=l=>{s.value=l,localStorage.setItem("selectedFavorite",JSON.stringify(l))},c=()=>{const l=localStorage.getItem("selectedFavorite");l?s.value=JSON.parse(l):s.value={},console.log(l);let h=!1;n.value.forEach(d=>{d.type==s.value.type&&d.id==s.value.id&&(h=!0)}),h||(s.value=n.value[0])},a=async()=>{const l=localStorage.getItem("favorites");l?n.value=JSON.parse(l):n.value=[],c()};return B(async()=>{await a(),await c()}),(l,h)=>(r(),v("div",Kt,[e("div",{id:"menu",class:O(["h-full z-10 pl-5 w-[calc(50%+4rem)] bg-indigo-200 transition-all duration-300 fixed",i.value?"left-0":"-left-1/2"])},[p(y(Ne),{class:"h-8 w-8 m-5 ml-auto mr-5",onClick:h[0]||(h[0]=d=>i.value=!i.value)}),e("div",zt,[e("p",{class:O(["font-bold",i.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Verein ",2),(r(!0),v(j,null,T(n.value,d=>k((r(),v("div",{class:O(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",i.value?"":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:w=>t(d)},u(d.name),11,Et)),[[D,d.type=="club"]])),256)),e("p",{class:O(["font-bold",i.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Team ",2),(r(!0),v(j,null,T(n.value,d=>k((r(),v("div",{class:O(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",i.value?"flex":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:w=>t(d)},[e("span",Pt,u(d.name),1),e("span",Rt,u(d.clubname),1)],10,Mt)),[[D,d.type=="team"]])),256))])],2),s.value&&s.value.type=="club"?(r(),L(ge,{class:"w-[calc(100%-4rem)] ml-auto mr-0",club_no:s.value.no,key:s.value.no,onUpdateFavorites:a},null,8,["club_no"])):s.value&&s.value.type=="team"?(r(),L(_e,{class:"w-[calc(100%-4rem)] ml-auto mr-0",team_id:s.value.id,team_class:s.value.classid,team_club:s.value.clubno,key:s.value.id,onUpdateFavorites:a},null,8,["team_id","team_class","team_club"])):(r(),v("div",Bt,Ut))]))}},qt={};var Qt="/icons/maps.png";const Zt={class:"flex items-center"},Yt={class:"sm:flex"},Xt={class:"w-fit mr-1"},ea={class:"hidden xs:block w-fit ml-1 mr-2"},sa=C(" \xD6ffnen in "),ta=e("img",{class:"h-6 ml-1",src:Qt,alt:""},null,-1),aa=[sa,ta],la={props:["location","name","town","id"],setup(o){const n=o,s=window.navigator,i=()=>{console.log(n.location),s.platform.indexOf("iPhone")!=-1||s.platform.indexOf("iPad")!=-1||s.platform.indexOf("iPod")!=-1||s.userAgentData&&(s.userAgentData.platform.indexOf("iOS")!=-1||s.userAgentData.platform.indexOf("iPadOS")!=-1)?(console.log("iOS"),window.open("maps://www.google.com/maps/search/?api=1&query="+n.location)):(window.open("https://www.google.com/maps/search/?api=1&query="+n.location),console.log("Not iOS"))},t=()=>{console.log("gym"),console.log(n.id)};return(c,a)=>(r(),v("div",Zt,[e("div",{onClick:a[0]||(a[0]=l=>t()),class:"flex w-fit hover:cursor-pointer hover:text-indigo-500 border-r-[0.5px] mr-2 border-r-gray-600 text-ellipsis break-words"},[p(y(Fe),{class:"h-6 w-6"}),e("div",Yt,[e("div",Xt,u(o.name),1),e("div",ea,u(o.town),1)])]),e("button",{onClick:a[1]||(a[1]=l=>i()),class:"rounded flex w-fit p-1 sm:text-base text-xs underline-none text-white items-center hover:bg-indigo-300 hover:text-indigo-900 bg-indigo-500"},aa)]))}},oa={key:0},na={class:"flex mr-1 ml-auto sm:mr-10 w-fit"},ia=["src"],ca={key:1},ra={class:"flex ml-1 mr-auto sm:ml-10 w-fit"},da=["src"],ne={props:["message","side"],setup(o){const n=o,s=m(null),i=m(null),t=m(!1),c=()=>{const l=n.message;l=="Spielstand 1. Halbzeit"||l=="Spielstand 2. Halbzeit"?(s.value="Spielstand",i.value="https://spo.handball4all.de/service/ticker/2Vg7rkdR.svg"):l.includes("7m")&&(l.includes("Tor")||l.includes("Erfolgreicher"))?(s.value="7m Tor durch Nr. "+l.replace("7m","").match(/\d+/)[0],i.value="https://spo.handball4all.de/service/ticker/doZSekQl.svg"):l.includes("7m")?(s.value="7m von Nr. "+l.replace("7m","").match(/\d+/)[0],i.value="https://spo.handball4all.de/service/ticker/OBOdJWyJ.svg"):l.includes("Tor")?(s.value="Tor durch Nr. "+l.match(/\d+/)[0],i.value="https://spo.handball4all.de/service/ticker/3GjFnr19.svg"):l.includes("Mannschafts-Auszeit")?(s.value="Auszeit",i.value="https://spo.handball4all.de/service/ticker/3B6Hgy_M.svg"):l.includes("Verwarnung")?(s.value="Verwarnung f\xFCr Nr. "+l.match(/\d+/)[0],i.value="https://spo.handball4all.de/service/ticker/jAfYIp8x.svg"):l.includes("2-min")?(s.value="2-min Strafe f\xFCr Nr. "+l.replace("2-min","").match(/\d+/)[0],i.value="https://spo.handball4all.de/service/ticker/V-fktpyp.svg"):(s.value="error",i.value=""),l.includes("Gastmannschaft")?t.value=!0:t.value=!1};c();const a=q(n,"message");return Q(a,async(l,h)=>{l&&c()}),(l,h)=>o.side=="left"&&!t.value?(r(),v("div",oa,[e("div",na,[C(u(s.value)+" ",1),e("img",{class:"h-5 w-5 ml-1 sm:mt-1 -mt-0.5",src:i.value,alt:""},null,8,ia)])])):o.side=="right"&&t.value?(r(),v("div",ca,[e("div",ra,[e("img",{class:"h-5 w-5 mr-1 sm:mt-1 -mt-0.5",src:i.value,alt:""},null,8,da),C(" "+u(s.value),1)])])):J("",!0)}},ie=o=>{const n=o.gDate.split("."),s=o.gTime.split(":");return new Date("20"+n[2],n[1]-1,n[0],s[0],s[1])},ua={class:""},ma={props:["game"],setup(o){const n=o,s=m(null),i=()=>{const t=Ae();let c=ie(n.game);c.setHours(c.getHours()+1.5),t.createEvent({start:ie(n.game),end:c,summary:"Handball Spiel "+n.game.gHomeTeam+" - "+n.game.gGuestTeam}),s.value.href="data:text/calendar;"+t.toBlob(),s.value.click()};return(t,c)=>(r(),v("div",ua,[p(y(Ge),{onClick:i,class:"h-6 mt-0.5 hover:text-indigo-500"}),e("a",{class:"hidden",ref_key:"download",ref:s},null,512)]))}},va={class:"w-full h-full"},ha=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Spiel"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"},"Info")],-1),ga={id:"game-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},pa={class:"sm:text-xl sm:mt-0.5 mt-1 ml-2 absolute left-12 top-5"},fa={id:"game-info",class:"mt-14 m-5 w-full"},_a={class:"justify-center grid"},ba={class:"font-bold text-xl sm:text-2xl"},xa=e("div",{id:"game-class",class:"text-md sm:text-sl justify-center flex"},null,-1),wa={class:"font-bold text-3xl sm:text-4xl my-4 justify-center flex"},ya={class:""},$a={id:"wrapper",class:"pb-24"},ka={key:0,id:"ticker",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},Da=e("div",{class:"flex mt-1"},[e("span",{class:"font-bold ml-2"}," Ticker ")],-1),Ca={id:"header",class:"flex justify-between"},Sa={class:"h-20 bg-indigo-500 text-white relative font-bold flex items-center justify-center p-2 w-1/3"},ja=e("div",{class:"h-20 w-5 -scale-y-100 absolute -right-5 overflow-hidden inline-block"},[e("div",{class:"h-28 -mt-8 bg-indigo-500 -rotate-12 transform origin-bottom-right"})],-1),Ia={class:"grid justify-center mt-2"},Ta={class:"flex justify-center"},Na={class:"justify-center flex font-bold text-xl"},Fa={class:"bg-indigo-500 text-white font-bold relative flex items-center justify-center p-2 w-1/3"},Ga=e("div",{class:"h-20 w-5 -scale-x-100 absolute -left-5 overflow-hidden inline-block"},[e("div",{class:"h-28 -mt-8 bg-indigo-500 -rotate-12 transform origin-bottom-right"})],-1),Aa=e("div",{class:"flex justify-evenly p-3 m-2 bg-indigo-200 rounded font-bold text-gray-800"},[e("div",null,"Aktion"),e("div",null,"Spielstand"),e("div",null,"Aktion")],-1),Oa={id:"data",class:"max-h-80 overflow-auto mb-2"},La={class:"flex justify-evenly md:text-xl sm:text-sm text-xs p-3 mx-2 bg-indigo-100 rounded items-center text-gray-800"},Ha={class:"w-1/3"},Va={class:"flex justify-center"},Ka={class:"justify-center flex text-indigo-700 font-bold sm:text-xl"},za={class:"w-1/3"},Ea={id:"scores",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},Ma=W('<div class="flex mt-1"><span class="font-bold ml-2"> Tabelle </span><span class="hidden sm:block ml-auto mr-9"> Tore </span><span class="sm:ml-0 ml-auto mr-5"> Spiele </span><span class="mr-2"> Punkte </span></div>',1),Pa={props:["team_id","team_class","game_id"],setup(o){const n=o,s=ee(),i=m([]),t=m({}),c=m(!0),a=m({}),l=m({}),h=m([]),d=5e3,w=m(!1),S=m(!1),I=m(null),F=m(null),G=m(null),K=["Spielzeit gestoppt","Spielzeit gestartet"],z=()=>{navigator.share?navigator.share({title:"Spiel am "+a.value.game_date,text:a.value.game.value.gHomeTeam+": "+a.value.gGuestTeam,url:s.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},E=q(n,"game_id");Q(E,async(b,g)=>{console.log("update game"),b&&forceUpdate()});const M=b=>{let g=Math.floor(b/60),_=b%60,$=_<10?"0"+_:_;return g+":"+$},P=async()=>{if(n.game_id&&n.team_id&&n.team_class)console.log("props"),G.value=n.game_id,F.value=n.team_id,I.value=n.team_class;else{const g=s.hash.substring(1).split(";");G.value=g[0],F.value=g[1],I.value=g[2]}console.log("gameID: "+G.value),console.log("teamID: "+F.value),console.log("teamClassID: "+I.value)},R=async()=>{c.value=!0,i.value=await te(F.value,I.value,[],!0),t.value=await ve(F.value,I.value),a.value=i.value.find(b=>b.gID===G.value),c.value=!1},f=async()=>{if(w.value=!0,a.value.live){console.log("game is live"),setInterval(async()=>{let g=await oe(a.value.gTickerToken);S.value||(g=g.filter(_=>!K.includes(_.message))),g=g.reverse(),h.value=x(g)},d);let b=await oe(a.value.gTickerToken);S.value||(b=b.filter(g=>!K.includes(g.message))),b=b.reverse(),h.value=x(b),l.value=await Ns(a.value.gTickerToken)}w.value=!1},x=b=>{const g=[];return b.forEach(_=>{let $=!1;g.forEach(N=>{_.message===N.message&&_.game_time===N.game_time&&(console.log("found duplicate"),$=!0)}),$||g.push(_)}),g};return B(async()=>{await P(),await R(),await f()}),(b,g)=>(r(),v("div",va,[ha,e("div",ga,[p(y(le),{class:"h-6 w-6 mt-1 ml-2 absolute left-5 top-5"}),e("span",pa,u(a.value.gDate)+" "+u(a.value.gTime),1),p(ma,{class:"absolute right-16 top-5",game:a.value},null,8,["game"]),p(y(se),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-7 top-5",onClick:z}),e("div",fa,[e("div",_a,[e("div",ba,u(a.value.gHomeTeam)+" : "+u(a.value.gGuestTeam),1),e("div",null,u(c.value?"":t.value.head.name),1)]),xa,e("div",wa,u(a.value.gHomeGoals)+" : "+u(a.value.gGuestGoals),1),e("div",ya,[c.value?J("",!0):(r(),L(la,{key:0,class:"w-full",location:a.value.gGymnasiumName+"+"+a.value.gGymnasiumStreet+"+"+a.value.gGymnasiumPostal+"+"+a.value.gGymnasiumTown,name:a.value.gGymnasiumName,town:a.value.gGymnasiumTown,id:a.value.gGymnasiumID},null,8,["location","name","town","id"]))])])]),e("div",$a,[a.value.gLive&&!w.value&&l.value?(r(),v("div",ka,[Da,e("div",Ca,[e("div",Sa,[ja,C(" "+u(l.value.team_home.club),1)]),e("div",Ia,[e("div",Ta,[p(y(le),{class:"h-6 w-6"}),C(" "+u(M(h.value[h.value.length-1].game_time)),1)]),e("div",Na,u(h.value[h.value.length-1].home_score)+" : "+u(h.value[h.value.length-1].guest_score),1)]),e("div",Fa,[C(u(l.value.team_home.club)+" ",1),Ga])]),Aa,e("div",Oa,[p(y(Oe),{class:"h-full",nodes:h.value,viewportHeight:320,getNodeHeight:_=>84,"get-node-key":(_,$)=>$},{cell:V(_=>[e("div",La,[e("div",Ha,[p(ne,{message:_.node.message,side:"left"},null,8,["message"])]),e("div",null,[e("div",Va,u(M(_.node.game_time)),1),e("div",Ka,u(_.node.home_score)+" : "+u(_.node.guest_score),1)]),e("div",za,[p(ne,{class:"flex",message:_.node.message,side:"right"},null,8,["message"])])])]),_:1},8,["nodes","getNodeHeight","get-node-key"])])])):J("",!0),e("div",Ea,[Ma,c.value?(r(),L(fe,{key:0})):(r(!0),v(j,{key:1},T(t.value.content.score,_=>(r(),L(pe,{key:_.tabTeamID,team_score:_},null,8,["team_score"]))),128))])])]))}},Ra={},Ba=[{path:"//",redirect:"/favorites"},{path:"//team",component:_e,meta:{KeepAlive:!0}},{path:"//leagues",component:vs,meta:{KeepAlive:!0}},{path:"//favorites",component:Wt,meta:{KeepAlive:!0}},{path:"//search",component:ms,meta:{KeepAlive:!0}},{path:"//match",component:Pa,meta:{KeepAlive:!0}},{path:"//club",component:ge,meta:{KeepAlive:!0}},{path:"//gym",component:Ra,meta:{KeepAlive:!0}},{path:"//settings",component:qt,meta:{KeepAlive:!0}}],Ja=Le({history:He(),routes:Ba}),ae=Ve(Xe);ae.use(Ja);ae.use(Ke);ae.mount("#app");
