import{v as pe,n as fe,r as h,o as J,c as i,a as p,b as e,w as z,d as Q,e as o,u as x,f as be,g as Z,h as ne,F as C,i as I,j as $,k as j,t as c,l as xe,m as f,p as ye,q as O,s as we,x as U,y as Y,z as X,A as ee,B as se,C as ie,D as $e,E as F,G as ke,H as je,I as Ce,J as Ie,K as Se,L as B,M as De,N as Te,O as le,P as Ne,Q as Fe,R as Ge,S as Ae}from"./vendor.1c3ac9e1.js";const Oe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))v(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const t of u.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&v(t)}).observe(document,{childList:!0,subtree:!0});function l(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function v(a){if(a.ep)return;a.ep=!0;const u=l(a);fetch(a.href,u)}};Oe();function Le(n={}){const{immediate:r=!1,onNeedRefresh:l,onOfflineReady:v,onRegistered:a,onRegisterError:u}=n;let t,d;const _=async(m=!0)=>{m&&(t==null||t.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()})),d&&d.waiting&&await fe(d.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){t=new pe("/sw.js",{scope:"/",type:"classic"}),t.addEventListener("activated",m=>{m.isUpdate||v==null||v()});{const m=()=>{l==null||l()};t.addEventListener("waiting",m),t.addEventListener("externalwaiting",m)}t.register({immediate:r}).then(m=>{d=m,a==null||a(m)}).catch(m=>{u==null||u(m)})}return _}const He={class:"h-screen"},Ve={class:"z-10 bg-white fixed bottom-0 w-full border-t border-gray-200 flex"},ze={class:"text-center"},Ke={class:"block h-8 text-3xl leading-8"},Me=e("span",{class:"block text-xs leading-none"},"Ligen",-1),Pe={class:"text-center"},Re={class:"block h-8 text-3xl leading-8"},Ee=e("span",{class:"block text-xs leading-none"},"Favoriten",-1),Be={class:"text-center"},Je={class:"block h-8 text-3xl leading-8"},We=e("span",{class:"block text-xs leading-none"},"Suche",-1),Ue={setup(n){"serviceWorker"in navigator&&Le();const r=h([]);return h({}),J(()=>{console.log("onMounted"),r.value=JSON.parse(localStorage.getItem("favorites")||"[]")}),(l,v)=>{const a=Q("router-view"),u=Q("router-link");return o(),i("div",He,[p(a),e("div",Ve,[p(u,{to:"leagues",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:z(()=>[e("div",ze,[e("span",Ke,[p(x(be),{class:"h-7 w-7 mx-auto"})]),Me])]),_:1}),p(u,{to:"favorites","active-class":"text-indigo-500",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500"},{default:z(()=>[e("div",Pe,[e("span",Re,[p(x(Z),{class:"h-7 w-7 mx-auto"})]),Ee])]),_:1}),p(u,{to:"search",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:z(()=>[e("div",Be,[e("span",Je,[p(x(ne),{class:"h-7 w-7 mx-auto"})]),We])]),_:1})])])}}};const qe=e("div",{class:"ml-5 mt-3 mb-3 absolute"},[e("h1",{class:"text-3xl font-bold"},"Suche"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"},"Verein / Halle")],-1),Qe={class:"flex justify-center w-full pt-20"},Ze={class:"flex w-4/6"},Ye={class:"w-4/6 mx-auto"},Xe=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Verein",-1),es={id:"clubs"},ss=["onClick"],ts={class:"text-sm text-gray-500"},as=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Halle",-1),ls={id:"gyms"},os=["onClick"],ns={class:"text-sm text-gray-500"},is={setup(n){const r=h(!1);h([]),h(""),h("Show more");const l=h([]),v=h([]);h("");const a=async u=>{r.value=!0;const t=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+u),d=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=gs&gs="+u),_=await t.json(),m=await d.json();l.value=_[0].searchResult.list,v.value=m[0].searchResult.list,r.value=!1};return(u,t)=>(o(),i(C,null,[qe,e("div",Qe,[e("div",Ze,[p(x(ne),{class:"ml-auto h-6 mt-2 text-neutral-800 mr-0 z-10"}),e("input",{type:"text",autocomplete:"off",class:"-ml-8 w-full pl-8 rounded-full",onInput:t[0]||(t[0]=d=>a(d.target.value))},null,32)])]),e("div",Ye,[Xe,e("div",es,[(o(!0),i(C,null,I(l.value,d=>(o(),i("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:_=>u.$router.push("club#"+d.no)},c(d.lname),9,ss))),256)),$(e("div",ts," Keine Ergebnisse ",512),[[j,l.value.length<1]])]),as,e("div",ls,[(o(!0),i(C,null,I(v.value,d=>(o(),i("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:_=>u.$router.push("gym#"+d.no)},c(d.lname),9,os))),256)),$(e("div",ns," Keine Ergebnisse ",512),[[j,v.value.length<1]])])])],64))}},cs={},rs={class:"grid grid-cols-3 sm:grid-cols-6 gap-1"},ds={id:"teams",class:"text-black w-fit col-span-2 text-xs font-bold"},us={id:"date-time",class:"w-fit text-xs text-gray-800"},ms={class:"flex"},hs={class:"flex"},vs={id:"location",class:"flex text-black col-span-2"},gs={class:"truncate text-xs"},_s={id:"score",class:"flex w-fit text-black"},ps={class:"min-w-[20px] mr-1 text-right"},fs=f(" : "),bs={class:"min-w-[20px] ml-1"},ce={props:["match","teamID","teamClassID"],setup(n){return(r,l)=>(o(),i("div",{class:"rounded-lg bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all",onClick:l[0]||(l[0]=v=>{r.$router.push("match#"+n.match.gID+";"+n.teamID+";"+n.teamClassID)})},[e("div",rs,[e("div",ds,c(n.match.gHomeTeam)+" : "+c(n.match.gGuestTeam),1),e("div",us,[e("div",ms,c(n.match.gWDay)+" "+c(n.match.gDate),1),e("div",hs,[p(x(xe),{class:"h-4 mr-1 text-indigo-900"}),f(" "+c(n.match.gTime),1)])]),e("div",vs,[p(x(ye),{class:"h-4 w-4 text-indigo-900 shrink-0"}),e("span",gs,c(n.match.gGymnasiumName),1)]),e("div",_s,[e("div",ps,c(n.match.gHomeGoals),1),fs,e("div",bs,c(n.match.gGuestGoals),1)]),e("div",{id:"info",class:O(["col-span-3 text-xs text-gray-600",n.match.gComment.length>1?"flex":"hidden"])},[p(x(we),{class:"h-4 w-4 mr-1"}),f(" "+c(n.match.gComment),1)],2)])]))}};var re=(n,r)=>{const l=n.__vccOpts||n;for(const[v,a]of r)l[v]=a;return l};const xs={},ys={class:"rounded-lg xs:h-[76px] sm:h-[48px] h-[92px] w-full bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all"},ws=U('<div class="grid grid-cols-3 sm:grid-cols-6 gap-1"><div id="teams" class="text-black w-fit col-span-2 text-xs font-bold"><span class="w-12 h-4 animate-pulse rounded -mb-1 bg-gray-500 inline-block"></span> : <span class="w-12 h-4 animate-pulse rounded -mb-1 bg-gray-500 inline-block"></span></div><div id="date-time" class="w-fit text-xs text-gray-800"><span class="inline-block w-6 animate-pulse rounded xs:hidden h-3 bg-gray-500"></span><div class="flex"><span class="w-4 mr-1 hidden xs:block animate-pulse rounded h-3 bg-gray-500"></span><span class="w-12 animate-pulse rounded h-3 bg-gray-500"></span></div><div class="flex"><div class="h-4 w-4 mt-0.5 animate-pulse bg-gray-500 rounded-full mr-1 shrink-0"></div><span class="w-8 h-3 mt-1 animate-pulse rounded m-0.5 bg-gray-500"></span></div></div><div id="location" class="flex text-black col-span-2 mt-1"><div class="h-4 w-4 bg-gray-500 animate-pulse rounded-full mr-1 shrink-0"></div><span class="truncate text-xs"><span class="w-20 rounded animate-pulse h-4 bg-gray-500 inline-block"></span></span></div><div id="score" class="flex w-fit text-black"><div class="min-w-[20px] mr-1 text-right"><span class="w-5 animate-pulse -mb-1 h-4 inline-block rounded bg-gray-500"></span></div> : <div class="min-w-[20px] ml-1"><span class="w-5 animate-pulse -mb-1 h-4 inline-block rounded bg-gray-500"></span></div></div></div>',1),$s=[ws];function ks(n,r){return o(),i("div",ys,$s)}var de=re(xs,[["render",ks]]);const te=async(n,r,l,v)=>{if(!n)return l.find(d=>d.gClassID===r).matches;const t=(await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+r+"&ct="+n)).json())[0].content.futureGames.games;return console.log(t),console.log(v),v?t:t.filter(d=>{const _=d.gDate.split("."),m=d.gTime.split(":"),b=new Date("20"+_[2],_[1]-1,_[0],m[0],m[1]);return b.setHours(b.getHours()+2),b>new Date})},ue=async(n,r,l)=>n?(await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+r+"&ct="+n)).json())[0]:l.find(u=>u.gClassID===r).matches,js=async(n,r)=>{const v=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=1&cmd=ps&cl="+n)).json();return v[0].content.score.length?v[0].content.score.filter(t=>t.tabTeamname.includes(r)).map(t=>t.tabTeamID):null},Cs=async n=>await(await fetch("https://spo.handball4all.de/service/if_ticker_data.php?token="+n+"&cmd=getAllGameInfo")).json(),oe=async n=>await(await fetch("https://spo.handball4all.de/service/if_ticker_data.php?token="+n+"&cmd=getAllTickerMessages")).json(),W=n=>{localStorage.setItem("favorites",JSON.stringify(n)),emit("updateFavorites")},me=async()=>{const n=localStorage.getItem("favorites");return n?JSON.parse(n):[]},Is={class:"w-full h-full"},Ss=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Verein"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),Ds={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},Ts=["src"],Ns={key:1},Fs={id:"club-info",class:"my-10 m-5 line-clamp-4 break-words"},Gs={class:"font-bold"},As={class:"text-gray-800"},Os={class:"text-gray-800"},Ls=["href"],Hs={class:"w-5/6 m-auto"},Vs={class:"mt-3 flex justify-between"},zs=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),Ks={class:"text-sm m-2"},Ms=f(" Alle Spiele "),Ps={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},Rs={class:"mr-4 ml-auto text-opacity-75"},Es={key:0,id:"games_loading"},Bs=e("hr",{class:"bg-gray-400 text-black h-[1.5px] -mt-3"},null,-1),Js={class:"h-4 w-14 ml-auto mr-0 bg-indigo-300 rounded block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},Ws=f("Zum Team"),Us=e("div",{id:"league-info"},null,-1),qs={id:"no-data",class:"mb-2"},Qs={id:"no-future-matches"},he={props:["club_no"],emits:["updateFavorites","disclosure-update"],setup(n,{emit:r}){const l=n,v=Y(),a=h({}),u=h([]),t=h([]),d=h(!0),_=h([]),m=h(null),b=h([]),k=h(!1);a.value={},h([]);const S=()=>{navigator.share?navigator.share({title:"Verein",text:a.value.lname,url:v.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},L=async()=>{let g="";l.club_no?g=l.club_no:g=v.hash.substring(1);const y=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+g)).json();a.value=y[0].searchResult.list[0]},K=async()=>{const s=await(await fetch("/club_address.json")).json();a.value.webaddress=s[a.value.no]},M=async()=>{const s=await(await fetch("https://spo.handball4all.de/misc/mobApp.php?jsoncallback=teamData&format=json&cmd=data&lvTypeNext=club&lvIDNext="+a.value.id)).text();new Function("teamData",s)(function(w){const N=w[0].dataList;var T=[];for(const G in N){let A=T.length-1;if(!T[A]||T[A].gClassID!=N[G].gClassID){const H={gClassID:N[G].gClassID,gClassSname:N[G].gClassSname,matches:[]};let q=!1;H.gClassID||(H.gClassID=N[G].class,q=!0),H.gClassSname||(H.gClassSname=N[G].class_sname,q=!0),A=T.push(H)-1,q||T[A].matches.push(N[G])}else T[A].matches.push(N[G])}u.value=T})},V=async g=>{d.value=!0,b.value=await js(g,a.value.lname),_.value={};for(const s of b.value)_.value[s]=await te(s,g,u.value,k.value);d.value=!1},P=()=>{if(!t.value.length)return!1;for(const g of t.value)if(g.type=="club"&&g.id==a.value.id)return!0},R=()=>{t.value.push({type:"club",id:a.value.id,name:a.value.lname,no:a.value.no}),W(t.value)},E=()=>{for(const g of t.value)g.type=="club"&&g.id==a.value.id&&t.value.splice(t.value.indexOf(g),1);W(t.value)},D=X(l,"club_no");return ee(D,async(g,s)=>{console.log("update club"),g&&forceUpdate()}),J(async()=>{await L(),t.value=await me(),await K(),await M()}),(g,s)=>{const y=Q("router-link");return o(),i("div",Is,[Ss,e("div",Ds,[p(x(se),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-20 top-5",onClick:S}),$(p(x(Z),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:R},null,512),[[j,!P()]]),$(p(x(ie),{class:"h-6 w-6 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:E},null,512),[[j,P()]]),a.value?(o(),i("img",{key:0,src:"logos/clubs/"+a.value.no+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,Ts)):(o(),i("div",Ns,"Loading...")),e("div",Fs,[e("div",Gs,c(a.value.lname),1),e("div",As,"Postleitzahl: "+c(a.value.postal),1),e("div",Os,"Nummer: "+c(a.value.no),1)]),e("a",{class:"absolute bottom-5 right-5 underline text-indigo-500 hover:text-indigo-800",href:"http://"+a.value.webaddress},c(a.value.webaddress),9,Ls)]),e("div",Hs,[e("div",Vs,[zs,e("div",Ks,[Ms,$(e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"","onUpdate:modelValue":s[0]||(s[0]=w=>k.value=w),onClick:s[1]||(s[1]=w=>m.value?V(m.value):null)},null,512),[[$e,k.value]])])]),e("div",Ps,[(o(!0),i(C,null,I(u.value,w=>(o(),F(x(Ie),{key:w.gClassID},{default:z(({open:N})=>[p(x(je),{class:O(["flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-indigo-900 bg-indigo-100 rounded-t-lg hover:bg-indigo-200 focus:outline-none focus-visible:ring focus-visible:ring-indigo-500 focus-visible:ring-opacity-75",[w.matches.length?"":"!text-gray-600 !bg-gray-200",w.gClassID!==m.value?"my-1 rounded-lg":""]]),onClick:T=>w.gClassID!==m.value?(m.value=w.gClassID,N=!0,V(w.gClassID)):(m.value=null,N=!1),disabled:!w.matches.length},{default:z(()=>[e("span",null,c(w.gClassSname),1),e("span",Rs,c(w.matches.length?"":"spielfrei"),1),p(x(ke),{class:O(["w-5 h-5 text-indigo-900",[N?"transform rotate-180":"",w.matches.length?"":"!text-gray-500"]])},null,8,["class"])]),_:2},1032,["class","onClick","disabled"]),$(p(x(Ce),{static:"",class:"px-4 pt-4 pb-2 text-sm text-gray-500 bg-indigo-100 rounded-b-lg"},{default:z(()=>[d.value?(o(),i("div",Es,[Bs,$(e("span",Js,null,512),[[j,d.value]]),(o(),i(C,null,I(3,T=>p(de,{key:T})),64))])):(o(!0),i(C,{key:1},I(_.value,(T,G,A)=>(o(),i("div",{key:G},[e("hr",{class:O(["bg-gray-400 text-black h-[1.5px]",A===0?"-mt-3":""])},null,2),p(y,{to:"team#"+b.value[A]+";"+w.gClassID+";"+a.value.no,class:"ml-auto mr-0 w-fit block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},{default:z(()=>[Ws]),_:2},1032,["to"]),Us,(o(!0),i(C,null,I(T,H=>(o(),F(ce,{key:H.gID,match:H,teamID:b.value[A],teamClassID:w.gClassID},null,8,["match","teamID","teamClassID"]))),128)),$(e("div",qs,[$(e("div",Qs," Keine zuk\xFCnftigen Spiele ",512),[[j,!k.value]]),$(e("div",null," Keine Spiele in dieser Klasse ",512),[[j,k.value]])],512),[[j,!T.length]])]))),128))]),_:2},1536),[[j,w.gClassID===m.value]])]),_:2},1024))),128))])])])}}};var Zs="/icons/goal.png",Ys="/icons/ball.svg";const Xs={class:"flex p-1 m-1 bg-indigo-100 rounded-lg"},et={class:"text-sm mr-1"},st=["innerHTML"],tt={class:"ml-auto hidden sm:flex mr-7 text-sm"},at=e("img",{class:"h-5 w-5 mt-0.5 mr-1",src:Zs,alt:""},null,-1),lt={class:"text-sm flex sm:ml-0 ml-auto mr-7 w-fit"},ot=e("img",{class:"h-4 mt-1",src:Ys,alt:""},null,-1),nt={class:"text-sm mr-2 sm:ml-5 <font-bold"},ve={props:["team_score"],setup(n){const r=l=>l.replace("/","/<wbr>");return(l,v)=>(o(),i("div",Xs,[e("div",et,c(n.team_score.tabScore),1),e("div",{class:"font-bold text-sm",innerHTML:r(n.team_score.tabTeamname)},null,8,st),e("div",tt,[at,f(" "+c(n.team_score.numGoalsShot)+" : "+c(n.team_score.numGoalsGot),1)]),e("div",lt,[ot,f(" "+c(n.team_score.numPlayedGames),1)]),e("div",nt,c(n.team_score.pointsPlus),1)]))}},it={},ct={class:"flex p-1 m-1 bg-indigo-100 rounded-lg"},rt=U('<div class="text-sm mr-1"><span class="bg-gray-500 animate-pulse h-4 w-20 mt-1 ml-1 inline-block rounded"></span></div><div class="font-bold text-sm"><span class="bg-gray-500 animate-pulse h-4 w-12"></span></div><div class="ml-auto hidden sm:flex mr-7 text-sm"><span class="bg-gray-500 animate-pulse h-4 w-4 rounded-full mr-1 mt-1"></span><span class="bg-gray-500 animate-pulse h-4 w-8 mt-1 rounded"></span> : <span class="bg-gray-500 animate-pulse h-4 w-8 mt-1 rounded"></span></div><div class="text-sm flex sm:ml-0 ml-auto mr-4 w-fit"><span class="bg-gray-500 animate-pulse h-4 w-4 rounded-full mr-1 mt-1"></span><span class="bg-gray-500 animate-pulse h-4 w-6 rounded mt-1"></span></div><div class="text-sm mr-2 sm:ml-5 font-bold"><span class="bg-gray-500 animate-pulse h-4 w-6 inline-block mt-1 rounded"></span></div>',5),dt=[rt];function ut(n,r){return o(),i("div",ct,dt)}var ge=re(it,[["render",ut]]);const mt={class:"w-full h-full"},ht=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Team"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),vt={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},gt=["src"],_t={key:1,class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-300 shadow-2xl bg-gray-300"},pt={id:"club-info",class:"my-12 m-5"},ft={class:"font-bold"},bt={class:"text-sm text-gray-900"},xt={id:"scores",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},yt=U('<div class="flex mt-1"><span class="font-bold ml-2"> Tabelle </span><span class="hidden sm:block ml-auto mr-9"> Tore </span><span class="sm:ml-0 ml-auto mr-5"> Spiele </span><span class="mr-2"> Punkte </span></div>',1),wt={key:0},$t={class:"w-5/6 m-auto"},kt={class:"mt-3 flex justify-between"},jt=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),Ct={class:"text-sm m-2"},It=f(" Alle Spiele "),St={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},Dt={key:0},Tt={key:1},Nt=e("div",{id:"league-info"},null,-1),Ft={id:"no-data"},Gt={id:"no-future-matches"},_e={props:["team_id","team_class","team_club"],emits:["updateFavorites"],setup(n,{emit:r}){const l=n,v=Y(),a=h([]);h(!1);const u=h(!1),t=h([]),d=h(null),_=h(null),m=h(null),b=h(null),k=h(null),S=h(!1),L=()=>{navigator.share?navigator.share({title:"Team",text:b.value.head.name+" "+k.value.lname,url:v.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},K=async()=>{u.value=!0,b.value=await ue(_.value,d.value),t.value=await te(_.value,d.value,[],S.value),u.value=!1,console.log(t.value)},M=()=>{if(!a.value.length)return!1;for(const g of a.value)if(g.type=="team"&&g.id==_.value)return!0},V=()=>{console.log("add favorite"),a.value.push({type:"team",id:_,name:b.value.head.sname,classid:d.value,clubno:m.value,clubname:k.value.lname}),W(a.value)},P=()=>{console.log("remove favorite");for(const g of a.value)console.log(g.type),console.log(g.id),g.type=="team"&&g.id==_.value&&a.value.splice(a.value.indexOf(g),1);W(a.value)},R=X(l,"team_id");ee(R,async(g,s)=>{console.log("update club"),g&&forceUpdate()});const E=async()=>{const s=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+m.value)).json();k.value=s[0].searchResult.list[0]},D=async()=>{if(console.log(l.team_id),l.team_id&&l.team_class&&l.team_club)console.log("props"),_.value=l.team_id,d.value=l.team_class,m.value=l.team_club;else{const s=v.hash.substring(1).split(";");_.value=s[0],d.value=s[1],m.value=s[2]}console.log("teamID: "+_.value),console.log("teamClassID: "+d.value),console.log("teamClubNo: "+m.value)};return J(async()=>{await D(),a.value=await me(),await K(),await E()}),(g,s)=>(o(),i("div",mt,[ht,e("div",vt,[p(x(se),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-20 top-5",onClick:L}),$(p(x(Z),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:V},null,512),[[j,!M()]]),$(p(x(ie),{class:"h-6 w-6 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:P},null,512),[[j,M()]]),b.value?(o(),i("img",{key:0,src:"logos/clubs/"+m.value+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,gt)):(o(),i("div",_t,[p(x(Se),{class:"text-gray-700"})])),e("div",pt,[e("div",ft,c(b.value?b.value.head.name:""),1),e("div",bt,c(k.value?k.value.lname:""),1)])]),e("div",xt,[yt,u.value?(o(),i("div",wt,[(o(),i(C,null,I(10,y=>p(ge,{key:y})),64))])):b.value?(o(!0),i(C,{key:1},I(b.value.content.score,y=>(o(),F(ve,{key:y.tabTeamID,team_score:y},null,8,["team_score"]))),128)):B("",!0)]),e("div",$t,[e("div",kt,[jt,e("div",Ct,[It,e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"",onClick:s[0]||(s[0]=y=>(S.value=!S.value,d.value?K():null))})])]),e("div",St,[u.value?(o(),i("div",Dt,[(o(),i(C,null,I(3,y=>p(de,{key:y})),64))])):(o(),i("div",Tt,[Nt,$(e("div",Ft,[$(e("div",Gt," Keine zuk\xFCnftigen Spiele ",512),[[j,!S.value]]),$(e("div",null," Keine Spiele in dieser Klasse ",512),[[j,S.value]])],512),[[j,!t.value.length]]),(o(!0),i(C,null,I(t.value,y=>(o(),F(ce,{key:y.id,match:y,teamID:_.value,teamClassID:d.value},null,8,["match","teamID","teamClassID"]))),128))]))])])]))}},At={class:"w-full h-full"},Ot={class:"mr-5 transition-all"},Lt=["onClick"],Ht=["onClick"],Vt={class:"ml-0 mr-auto"},zt={class:"ml-auto mr-0"},Kt={key:2,class:"w-[calc(100%-4rem)] h-full ml-auto mr-0 flex justify-center items-center px-5"},Mt=e("span",{class:"text-lg"},[f(" Noch keine Favoriten angelegt. "),e("br"),f(" Gehen Sie daf\xFCr zur Suche oder den Ligen. ")],-1),Pt=[Mt],Rt={setup(n){const r=h([]),l=h({}),v=h(!1),a=d=>{l.value=d,localStorage.setItem("selectedFavorite",JSON.stringify(d))},u=()=>{const d=localStorage.getItem("selectedFavorite");d?l.value=JSON.parse(d):l.value={},console.log(d);let _=!1;r.value.forEach(m=>{m.type==l.value.type&&m.id==l.value.id&&(_=!0)}),_||(l.value=r.value[0])},t=async()=>{const d=localStorage.getItem("favorites");d?r.value=JSON.parse(d):r.value=[],u()};return J(async()=>{await t(),await u()}),(d,_)=>(o(),i("div",At,[e("div",{id:"menu",class:O(["h-full z-10 pl-5 w-[calc(50%+4rem)] bg-indigo-200 transition-all duration-300 fixed",v.value?"left-0":"-left-1/2"])},[p(x(De),{class:"h-8 w-8 m-5 ml-auto mr-5",onClick:_[0]||(_[0]=m=>v.value=!v.value)}),e("div",Ot,[e("p",{class:O(["font-bold",v.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Verein ",2),(o(!0),i(C,null,I(r.value,m=>$((o(),i("div",{class:O(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",v.value?"":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:b=>a(m)},c(m.name),11,Lt)),[[j,m.type=="club"]])),256)),e("p",{class:O(["font-bold",v.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Team ",2),(o(!0),i(C,null,I(r.value,m=>$((o(),i("div",{class:O(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",v.value?"flex":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:b=>a(m)},[e("span",Vt,c(m.name),1),e("span",zt,c(m.clubname),1)],10,Ht)),[[j,m.type=="team"]])),256))])],2),l.value&&l.value.type=="club"?(o(),F(he,{class:"w-[calc(100%-4rem)] ml-auto mr-0",club_no:l.value.no,key:l.value.no,onUpdateFavorites:t},null,8,["club_no"])):l.value&&l.value.type=="team"?(o(),F(_e,{class:"w-[calc(100%-4rem)] ml-auto mr-0",team_id:l.value.id,team_class:l.value.classid,team_club:l.value.clubno,key:l.value.id,onUpdateFavorites:t},null,8,["team_id","team_class","team_club"])):(o(),i("div",Kt,Pt))]))}},Et={},Bt={props:["location"],setup(n){const r=n,l=window.navigator,v=()=>{console.log(r.location),l.platform.indexOf("iPhone")!=-1||l.platform.indexOf("iPad")!=-1||l.platform.indexOf("iPod")!=-1||l.userAgentData&&(l.userAgentData.platform.indexOf("iOS")!=-1||l.userAgentData.platform.indexOf("iPadOS")!=-1)?(console.log("iOS"),window.open("maps://www.google.com/maps/search/?api=1&query="+r.location)):(window.open("https://www.google.com/maps/search/?api=1&query="+r.location),console.log("Not iOS"))};return(a,u)=>(o(),F(x(Te),{onClick:u[0]||(u[0]=t=>v()),class:"h-6 w-6 hover:text-indigo-500"}))}},Jt={class:"w-full h-full"},Wt=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Spiel"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"},"Info")],-1),Ut={id:"game-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},qt={class:"sm:text-xl sm:mt-0.5 mt-1 ml-2 absolute left-12 top-5"},Qt={id:"game-info",class:"mt-14 m-5 w-full"},Zt={class:"font-bold text-xl sm:text-2xl justify-center flex"},Yt={class:"font-bold text-3xl sm:text-4xl my-4 justify-center flex"},Xt={class:"text-md sm:text-xl my-4 justify-center flex hover:underline hover:text-indigo-500 hover:cursor-pointer"},ea={key:0,id:"ticker",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},sa=e("div",{class:"flex mt-1"},[e("span",{class:"font-bold ml-2"}," Ticker ")],-1),ta={id:"header",class:"flex justify-between"},aa={class:"h-20 bg-indigo-500 text-white relative font-bold flex items-center justify-center p-2 w-1/3"},la=e("div",{class:"h-20 w-5 -scale-y-100 absolute -right-5 overflow-hidden inline-block"},[e("div",{class:"h-28 -mt-8 bg-indigo-500 -rotate-12 transform origin-bottom-right"})],-1),oa={class:"grid justify-center mt-2"},na={class:"flex justify-center"},ia={class:"justify-center flex font-bold text-xl"},ca={class:"bg-indigo-500 text-white font-bold relative flex items-center justify-center p-2 w-1/3"},ra=e("div",{class:"h-20 w-5 -scale-x-100 absolute -left-5 overflow-hidden inline-block"},[e("div",{class:"h-28 -mt-8 bg-indigo-500 -rotate-12 transform origin-bottom-right"})],-1),da=e("div",{class:"flex justify-evenly p-3 m-2 bg-indigo-200 rounded font-bold text-gray-800"},[e("div",null," Aktion "),e("div",null," Spielstand "),e("div",null," Aktion ")],-1),ua={id:"data",class:"max-h-80 overflow-auto mb-2"},ma={class:"w-1/3"},ha={key:0,class:"flex"},va=f(" Spielstand "),ga=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/2Vg7rkdR.svg",alt:""},null,-1),_a=[va,ga],pa={key:1,class:"flex"},fa=f(" Spielstand "),ba=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/2Vg7rkdR.svg",alt:""},null,-1),xa=[fa,ba],ya={key:2,class:"flex"},wa=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/doZSekQl.svg",alt:""},null,-1),$a={key:3,class:"flex"},ka=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/OBOdJWyJ.svg",alt:""},null,-1),ja={key:4,class:"flex"},Ca=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/3GjFnr19.svg",alt:""},null,-1),Ia={key:5,class:"flex"},Sa=f(" Auszeit "),Da=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/3B6Hgy_M.svg",alt:""},null,-1),Ta=[Sa,Da],Na={key:6,class:"flex"},Fa=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/jAfYIp8x.svg",alt:""},null,-1),Ga={class:"flex justify-center"},Aa={class:"justify-center flex text-indigo-700 font-bold sm:text-xl"},Oa={class:"w-1/3"},La={key:0,class:"flex"},Ha=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/doZSekQl.svg",alt:""},null,-1),Va={key:1,class:"flex"},za=e("img",{class:"ml-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/OBOdJWyJ.svg",alt:""},null,-1),Ka={key:2,class:"flex"},Ma=e("img",{class:"mr-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/3GjFnr19.svg",alt:""},null,-1),Pa={key:3,class:"flex"},Ra=e("img",{class:"mr-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/3B6Hgy_M.svg",alt:""},null,-1),Ea=f(" Auszeit "),Ba=[Ra,Ea],Ja={key:4,class:"flex"},Wa=e("img",{class:"mr-1 h-5 mt-0.5",src:"https://spo.handball4all.de/service/ticker/jAfYIp8x.svg",alt:""},null,-1),Ua={id:"scores",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},qa=U('<div class="flex mt-1"><span class="font-bold ml-2"> Tabelle </span><span class="hidden sm:block ml-auto mr-9"> Tore </span><span class="sm:ml-0 ml-auto mr-5"> Spiele </span><span class="mr-2"> Punkte </span></div>',1),Qa={props:["team_id","team_class","game_id"],setup(n){const r=n,l=Y(),v=h([]),a=h([]),u=h(!0),t=h({}),d=h({}),_=h([]),m=5e3,b=h(!1),k=h(null),S=h(null),L=h(null),K=["Spielzeit gestoppt","Spielzeit gestartet"],M=X(r,"game_id");ee(M,async(D,g)=>{console.log("update game"),D&&forceUpdate()});const V=D=>{let g=Math.floor(D/60),s=D%60,y=s<10?"0"+s:s;return g+":"+y},P=async()=>{if(r.game_id&&r.team_id&&r.team_class)console.log("props"),L.value=r.game_id,S.value=r.team_id,k.value=r.team_class;else{const g=l.hash.substring(1).split(";");L.value=g[0],S.value=g[1],k.value=g[2]}console.log("gameID: "+L.value),console.log("teamID: "+S.value),console.log("teamClassID: "+k.value)},R=async()=>{u.value=!0,v.value=await te(S.value,k.value,[],!0),a.value=await ue(S.value,k.value),t.value=v.value.find(D=>D.gID===L.value),u.value=!1,console.log(t.value)},E=async()=>{b.value=!0,t.value.gLive&&(console.log("game is live"),setInterval(async()=>{_.value=await oe(t.value.gTickerToken)},m),_.value=await oe(t.value.gTickerToken),d.value=await Cs(t.value.gTickerToken)),b.value=!1};return J(async()=>{await P(),await R(),t.value.gLive=!0,t.value.gTickerToken="b87ed19c1f10952aa6fa123203fbc576",await E()}),(D,g)=>(o(),i("div",Jt,[Wt,e("div",Ut,[p(x(le),{class:"h-6 w-6 mt-1 ml-2 absolute left-5 top-5"}),e("span",qt,c(t.value.gDate)+" "+c(t.value.gTime),1),p(x(se),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-7 top-5",onClick:D.shareTeam},null,8,["onClick"]),e("div",Qt,[e("div",Zt,c(t.value.gHomeTeam)+" : "+c(t.value.gGuestTeam),1),e("div",Yt,c(t.value.gHomeGoals)+" : "+c(t.value.gGuestGoals),1),e("div",Xt,[u.value?B("",!0):(o(),F(Bt,{key:0,class:"",location:t.value.gGymnasiumName+"+"+t.value.gGymnasiumStreet+"+"+t.value.gGymnasiumPostal+"+"+t.value.gGymnasiumTown},null,8,["location"])),f(" "+c(t.value.gGymnasiumName)+" "+c(t.value.gGymnasiumTown),1)])])]),t.value.gLive&&!b.value&&d.value?(o(),i("div",ea,[sa,e("div",ta,[e("div",aa,[la,f(" "+c(d.value.team_home.club),1)]),e("div",oa,[e("div",na,[p(x(le),{class:"h-6 w-6"}),f(" "+c(V(_.value[_.value.length-1].game_time)),1)]),e("div",ia,c(_.value[_.value.length-1].home_score)+" : "+c(_.value[_.value.length-1].guest_score),1)]),e("div",ca,[f(c(d.value.team_home.club)+" ",1),ra])]),da,e("div",ua,[(o(!0),i(C,null,I(_.value.reverse(),(s,y)=>$((o(),i("div",{key:y,class:"flex justify-evenly p-3 m-2 bg-indigo-100 rounded items-center text-gray-800"},[e("div",ma,[s.message=="Spielstand 1. Halbzeit"?(o(),i("div",ha,_a)):s.message=="Spielstand 2. Halbzeit"?(o(),i("div",pa,xa)):s.message.includes("7m")&&(s.message.includes("Tor")||s.message.includes("Erfolgreicher"))&&s.message.includes("Heimmannschaft")?(o(),i("div",ya,[f(" 7m Tor durch Nr. "+c(s.message.match(/\d+/)[0])+" ",1),wa])):s.message.includes("7m")&&s.message.includes("Heimmannschaft")?(o(),i("div",$a,[f(" 7m von Nr. "+c(s.message.match(/\d+/)[0])+" ",1),ka])):s.message.includes("Tor")&&s.message.includes("Heimmannschaft")?(o(),i("div",ja,[f(" Tor durch Nr. "+c(s.message.match(/\d+/)[0])+" ",1),Ca])):s.message.includes("Mannschafts-Auszeit")&&s.message.includes("Heimmannschaft")?(o(),i("div",Ia,Ta)):s.message.includes("Verwarnung")&&s.message.includes("Heimmannschaft")?(o(),i("div",Na,[f(" Verwarnung f\xFCr Nr. "+c(s.message.match(/\d+/)[0])+" ",1),Fa])):B("",!0)]),e("div",null,[e("div",Ga,c(V(s.game_time)),1),e("div",Aa,c(s.home_score)+" : "+c(s.guest_score),1)]),e("div",Oa,[s.message.includes("7m")&&s.message.includes("Tor")&&s.message.includes("Gastmannschaft")?(o(),i("div",La,[f(" 7m Tor durch Nr. "+c(s.message.match(/\d+/)[0])+" ",1),Ha])):s.message.includes("7m")&&s.message.includes("Gastmannschaft")?(o(),i("div",Va,[f(" 7m von Nr. "+c(s.message.match(/\d+/)[0])+" ",1),za])):s.message.includes("Tor")&&s.message.includes("Gastmannschaft")?(o(),i("div",Ka,[Ma,f(" Tor durch Nr. "+c(s.message.match(/\d+/)[0]),1)])):s.message.includes("Mannschafts-Auszeit")&&s.message.includes("Gastmannschaft")?(o(),i("div",Pa,Ba)):s.message.includes("Verwarnung")&&s.message.includes("Gastmannschaft")?(o(),i("div",Ja,[Wa,f(" Verwarnung f\xFCr Nr. "+c(s.message.match(/\d+/)[0]),1)])):B("",!0)])])),[[j,!K.includes(s.message)]])),128))])])):B("",!0),e("div",Ua,[qa,u.value?(o(),F(ge,{key:0})):(o(!0),i(C,{key:1},I(a.value.content.score,s=>(o(),F(ve,{key:s.tabTeamID,team_score:s},null,8,["team_score"]))),128))])]))}},Za={},Ya=[{path:"//",redirect:"/favorites"},{path:"//team",component:_e,meta:{KeepAlive:!0}},{path:"//leagues",component:cs,meta:{KeepAlive:!0}},{path:"//favorites",component:Rt,meta:{KeepAlive:!0}},{path:"//search",component:is,meta:{KeepAlive:!0}},{path:"//match",component:Qa,meta:{KeepAlive:!0}},{path:"//club",component:he,meta:{KeepAlive:!0}},{path:"//gym",component:Za,meta:{KeepAlive:!0}},{path:"//settings",component:Et,meta:{KeepAlive:!0}}],Xa=Ne({history:Fe(),routes:Ya}),ae=Ge(Ue);ae.use(Xa);ae.use(Ae);ae.mount("#app");
