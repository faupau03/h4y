import{v as me,n as ve,u as he,a as pe,r as m,o as H,b as V,c as r,d as u,e as p,w as z,f as e,F as T,g as k,t as a,h as b,i as _e,j as X,k as ee,l as G,m as y,p as S,q as te,s as se,x as le,y as ae,z as oe,A as Z,B as ge,C as A,D as fe,E as ne,G as ie,H as ce,I as be,J as xe,K as we,L as ye,M as re,N as $e,O as ke,P as Ce,Q as Se,R as je}from"./vendor.3d8255b4.js";const De=function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))_(t);new MutationObserver(t=>{for(const d of t)if(d.type==="childList")for(const n of d.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&_(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const d={};return t.integrity&&(d.integrity=t.integrity),t.referrerpolicy&&(d.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?d.credentials="include":t.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function _(t){if(t.ep)return;t.ep=!0;const d=o(t);fetch(t.href,d)}};De();function Ie(N={}){const{immediate:g=!1,onNeedRefresh:o,onOfflineReady:_,onRegistered:t,onRegisterError:d}=N;let n,s;const v=async(c=!0)=>{c&&(n==null||n.addEventListener("controlling",w=>{w.isUpdate&&window.location.reload()})),s&&s.waiting&&await ve(s.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){n=new me("/sw.js",{scope:"/",type:"classic"}),n.addEventListener("activated",c=>{c.isUpdate||_==null||_()});{const c=()=>{o==null||o()};n.addEventListener("waiting",c),n.addEventListener("externalwaiting",c)}n.register({immediate:g}).then(c=>{s=c,t==null||t(c)}).catch(c=>{d==null||d(c)})}return v}const Fe={class:"w-screen h-screen"},ze={class:"z-10 bg-white fixed bottom-0 w-full border-t border-gray-200 flex"},Te={class:"text-center"},Ne={class:"block h-8 text-3xl leading-8"},Le=e("span",{class:"block text-xs leading-none"},"Ligen",-1),Ae={class:"text-center"},Ge={class:"block h-8 text-3xl leading-8"},Ke=e("span",{class:"block text-xs leading-none"},"Favoriten",-1),Me={class:"text-center"},Oe={class:"block h-8 text-3xl leading-8"},Ee=e("span",{class:"block text-xs leading-none"},"Suche",-1),Pe={setup(N){"serviceWorker"in navigator&&Ie(),he({title:team.value.head.name+club.value.lname,description:team.value.head.name+" "+club.value.lname,url:route.value.fullPath,og:{title:team.value.head.name+club.value.lname,description:team.value.head.name+" "+club.value.lname,url:route.value.fullPath}}),pe();const g=m([]);return m({}),H(()=>{console.log("onMounted"),g.value=JSON.parse(localStorage.getItem("favorites")||"[]")}),(o,_)=>{const t=V("metainfo"),d=V("router-view"),n=V("router-link");return r(),u(T,null,[p(t,null,{title:z(({metainfo:s})=>[k(a(s.description),1)]),"og(title)":z(({metainfo:s})=>[k(a(s.description),1)]),"og(url)":z(({og:s})=>[k(a(s.url),1)]),"og(description)":z(({metainfo:s})=>[k(a(s.description),1)]),_:1}),e("div",Fe,[p(d),e("div",ze,[p(n,{to:"leagues",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:z(()=>[e("div",Te,[e("span",Ne,[p(b(_e),{class:"h-7 w-7 mx-auto"})]),Le])]),_:1}),p(n,{to:"favorites","active-class":"text-indigo-500",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500"},{default:z(()=>[e("div",Ae,[e("span",Ge,[p(b(X),{class:"h-7 w-7 mx-auto"})]),Ke])]),_:1}),p(n,{to:"search",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:z(()=>[e("div",Me,[e("span",Oe,[p(b(ee),{class:"h-7 w-7 mx-auto"})]),Ee])]),_:1})])])],64)}}};const Re=e("div",{class:"ml-5 mt-3 mb-3 absolute"},[e("h1",{class:"text-3xl font-bold"},"Suche"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"},"Verein / Halle")],-1),Ve={class:"flex justify-center w-full pt-20"},He={class:"flex w-4/6"},Je={class:"w-4/6 mx-auto"},We=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Verein",-1),Ue={id:"clubs"},Be=["onClick"],qe={class:"text-sm text-gray-500"},Qe=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Halle",-1),Ze={id:"gyms"},Xe=["onClick"],Ye={class:"text-sm text-gray-500"},et={setup(N){const g=m(!1);m([]),m(""),m("Show more");const o=m([]),_=m([]);m("");const t=async d=>{g.value=!0;const n=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+d),s=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=gs&gs="+d),v=await n.json(),c=await s.json();o.value=v[0].searchResult.list,_.value=c[0].searchResult.list,g.value=!1};return(d,n)=>(r(),u(T,null,[Re,e("div",Ve,[e("div",He,[p(b(ee),{class:"ml-auto h-6 mt-2 text-neutral-800 mr-0 z-10"}),e("input",{type:"text",autocomplete:"off",class:"-ml-8 w-full pl-8 rounded-full",onInput:n[0]||(n[0]=s=>t(s.target.value))},null,32)])]),e("div",Je,[We,e("div",Ue,[(r(!0),u(T,null,G(o.value,s=>(r(),u("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:v=>d.$router.push("club#"+s.no)},a(s.lname),9,Be))),256)),y(e("div",qe," Keine Ergebnisse ",512),[[S,o.value.length<1]])]),Qe,e("div",Ze,[(r(!0),u(T,null,G(_.value,s=>(r(),u("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:v=>d.$router.push("gym#"+s.no)},a(s.lname),9,Xe))),256)),y(e("div",Ye," Keine Ergebnisse ",512),[[S,_.value.length<1]])])])],64))}},tt={},st={class:"w-full h-full"},lt=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Verein"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),at={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},ot=["src"],nt={key:1},it={id:"club-info",class:"my-10 m-5 line-clamp-4 break-words"},ct={class:"font-bold"},rt={class:"text-gray-800"},dt={class:"text-gray-800"},ut=["href"],mt={class:"w-5/6 m-auto"},vt={class:"mt-3 flex justify-between"},ht=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),pt={class:"text-sm m-2"},_t=k(" Alle Spiele "),gt={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},ft={class:"mr-4 ml-auto text-opacity-75"},bt=e("hr",{class:"bg-gray-400 text-black h-[1.5px] mb-2 -mt-3"},null,-1),xt=k("Zum Team"),wt={key:0},yt={key:1},$t=e("div",{id:"league-info"},null,-1),kt={id:"no-data"},Ct={id:"no-future-matches"},St={class:"rounded-lg bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all"},jt={class:"grid grid-cols-3 sm:grid-cols-6 gap-1"},Dt={id:"teams",class:"text-black w-fit col-span-2 text-xs font-bold"},It={id:"date-time",class:"w-fit text-xs text-gray-800"},Ft={class:"flex"},zt={class:"flex"},Tt={id:"location",class:"flex text-black col-span-2"},Nt={class:"truncate text-xs"},Lt={id:"score",class:"flex w-fit text-black"},At={class:"min-w-[20px] mr-1 text-right"},Gt=k(" : "),Kt={class:"min-w-[20px] ml-1"},Mt=["data-id","onClick"],de={props:["club_no"],emits:["updateFavorites","disclosure-update"],setup(N,{emit:g}){const o=N,_=te(),t=m({}),d=m([]),n=m([]),s=m(!1),v=m([]),c=m(null),w=m(null),F=m(!1);t.value={};const L=m([]),J=l=>{L.value.filter(C=>C.getAttribute("data-id")!==l.toString()).forEach(C=>C.click())},W=(l,i)=>{if(!i)return;const C=L.value.find(h=>h.getAttribute("data-id")===w.value);console.log(C),l(C)},O=async()=>{let l="";o.club_no?l=o.club_no:l=_.hash.substring(1);const C=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+l)).json();t.value=C[0].searchResult.list[0]},E=async()=>{const i=await(await fetch("/club_address.json")).json();t.value.webaddress=i[t.value.no]},P=async l=>{console.log(l),v.value=l,g("disclosure-update"),s.value=!0;const C=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=1&cmd=ps&cl="+l)).json();if(!C[0].content.score.length){v.value=d.value.find($=>$.gClassID===l).matches,s.value=!1,w.value=null;return}const h=C[0].content.score.find($=>$.tabTeamname.includes(t.value.lname));console.log(h.tabTeamID),w.value=h.tabTeamID;const I=(await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+l+"&ct="+h.tabTeamID)).json())[0].content.futureGames.games;F.value?v.value=I:v.value=I.filter($=>{const x=$.gDate.split("."),K=$.gTime.split(":");return new Date("20"+x[2],x[1]-1,x[0],K[0],K[1])>new Date}),s.value=!1},U=async()=>{const i=await(await fetch("https://spo.handball4all.de/misc/mobApp.php?jsoncallback=teamData&format=json&cmd=data&lvTypeNext=club&lvIDNext="+t.value.id)).text();new Function("teamData",i)(function(h){const j=h[0].dataList;var D=[];for(const I in j){let $=D.length-1;if(!D[$]||D[$].gClassID!=j[I].gClassID){const x={gClassID:j[I].gClassID,gClassSname:j[I].gClassSname,matches:[]};let K=!1;x.gClassID||(x.gClassID=j[I].class,K=!0),x.gClassSname||(x.gClassSname=j[I].class_sname,K=!0),$=D.push(x)-1,K||D[$].matches.push(j[I])}else D[$].matches.push(j[I])}d.value=D})},M=()=>{if(!n.value.length)return!1;for(const l of n.value)if(l.type=="club"&&l.id==t.value.id)return!0},B=()=>{n.value.push({type:"club",id:t.value.id,name:t.value.lname,no:t.value.no}),R()},q=()=>{for(const l of n.value)l.type=="club"&&l.id==t.value.id&&n.value.splice(n.value.indexOf(l),1);R()},R=()=>{localStorage.setItem("favorites",JSON.stringify(n.value)),g("updateFavorites")},Q=async()=>{const l=localStorage.getItem("favorites");l?n.value=JSON.parse(l):n.value=[]},f=se(o,"club_no");return le(f,async(l,i)=>{console.log("update club"),l&&forceUpdate()}),H(async()=>{await O(),await U(),await Q(),await E()}),(l,i)=>{const C=V("router-link");return r(),u("div",st,[lt,e("div",at,[y(p(b(X),{class:"h-5 w-5 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:B},null,512),[[S,!M()]]),y(p(b(ae),{class:"h-5 w-5 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:q},null,512),[[S,M()]]),t.value?(r(),u("img",{key:0,src:"logos/clubs/"+t.value.no+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,ot)):(r(),u("div",nt,"Loading...")),e("div",it,[e("div",ct,a(t.value.lname),1),e("div",rt,"Postleitzahl: "+a(t.value.postal),1),e("div",dt,"Nummer: "+a(t.value.no),1)]),e("a",{class:"absolute bottom-5 right-5 underline text-indigo-500 hover:text-indigo-800",href:"http://"+t.value.webaddress},a(t.value.webaddress),9,ut)]),e("div",mt,[e("div",vt,[ht,e("div",pt,[_t,y(e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"","onUpdate:modelValue":i[0]||(i[0]=h=>F.value=h),onClick:i[1]||(i[1]=h=>c.value?P(c.value):null)},null,512),[[oe,F.value]])])]),e("div",gt,[(r(!0),u(T,null,G(d.value,(h,j)=>(r(),Z(b(xe),{key:h.gClassID},{default:z(({open:D,close:I})=>[p(b(fe),{class:A(["flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-indigo-900 bg-indigo-100 rounded-t-lg hover:bg-indigo-200 focus:outline-none focus-visible:ring focus-visible:ring-indigo-500 focus-visible:ring-opacity-75",[h.matches.length?"":"!text-gray-600 !bg-gray-200",D?"":"my-1 rounded-lg"]]),onClick:$=>(c.value=h.gClassID,J(h.gClassID),P(h.gClassID)),disabled:!h.matches.length},{default:z(()=>[e("span",null,a(h.gClassSname),1),e("span",ft,a(h.matches.length?"":"spielfrei"),1),p(b(ge),{class:A(["w-5 h-5 text-indigo-900",[D?"transform rotate-180":"",h.matches.length?"":"!text-gray-500"]])},null,8,["class"])]),_:2},1032,["class","onClick","disabled"]),p(b(be),{class:"px-4 pt-4 pb-2 text-sm text-gray-500 bg-indigo-100 rounded-b-lg"},{default:z(({close:$})=>[bt,y(p(C,{to:"team#"+w.value+";"+h.gClassID+";"+t.value.no,class:"ml-auto mr-0 w-fit block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},{default:z(()=>[xt]),_:2},1032,["to"]),[[S,w.value]]),s.value?(r(),u("div",wt,"Loading...")):(r(),u("div",yt,[$t,y(e("div",kt,[y(e("div",Ct," Keine zuk\xFCnftigen Spiele ",512),[[S,!F.value]]),y(e("div",null," Keine Spiele in dieser Klasse ",512),[[S,F.value]])],512),[[S,!v.value.length]]),(r(!0),u(T,null,G(v.value,x=>(r(),u("div",St,[e("div",jt,[e("div",Dt,a(x.gHomeTeam)+" : "+a(x.gGuestTeam),1),e("div",It,[e("div",Ft,a(x.gWDay)+" "+a(x.gDate),1),e("div",zt,[p(b(ne),{class:"h-4 mr-1 text-indigo-900"}),k(" "+a(x.gTime),1)])]),e("div",Tt,[p(b(ie),{class:"h-4 w-4 text-indigo-900 shrink-0"}),e("span",Nt,a(x.gGymnasiumName),1)]),e("div",Lt,[e("div",At,a(x.gHomeGoals),1),Gt,e("div",Kt,a(x.gGuestGoals),1)]),e("div",{id:"info",class:A(["col-span-3 text-gray-600",x.gComment.length>1?"flex":"hidden"])},[p(b(ce),{class:"h-4 w-4 mt-1 mr-1"}),k(" "+a(x.gComment),1)],2)])]))),256))]))]),_:2},1024),y(e("button",{ref_for:!0,ref:$=>L.value[j]=$,"data-id":h.gClassID,onClick:$=>W(I,D)},null,8,Mt),[[S,!1]])]),_:2},1024))),128))])])])}}};var Ot="/icons/goal.png";const Et={class:"w-full h-full"},Pt=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Team"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),Rt={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},Vt=["src"],Ht={key:1,class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-300 shadow-2xl bg-gray-300"},Jt={id:"club-info",class:"my-10 m-5"},Wt={class:"font-bold"},Ut={class:"text-sm text-gray-900"},Bt={id:"scores",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},qt=re('<div class="flex mt-1"><span class="font-bold ml-2"> Tabelle </span><span class="hidden sm:block ml-auto mr-9"> Tore </span><span class="sm:ml-0 ml-auto mr-5"> Spiele </span><span class="mr-2"> Punkte </span></div>',1),Qt={key:0},Zt={class:"flex p-1 m-1 bg-indigo-100 rounded-lg"},Xt={class:"text-sm mr-1"},Yt=["innerHTML"],es={class:"ml-auto hidden sm:flex mr-7 text-sm"},ts=e("img",{class:"h-5 w-5 mt-0.5 mr-1",src:Ot,alt:""},null,-1),ss={class:"text-sm flex sm:ml-0 ml-auto mr-7 w-fit"},ls=re('<svg class="h-4 w-4 mt-1" width="700pt" height="700pt" version="1.1" viewBox="0 0 700 700" xmlns="http://www.w3.org/2000/svg"><g><path d="m224.32 196.48-78.406 58.789 23.652 104.21 5.8125 0.96094 83.5 13.91 33.426-105.04zm-2.0859 23.414 50.277 53.867-25.703 80.836-62.754-10.461-18.594-81.656 56.773-42.59z" fill-rule="evenodd"></path><path d="m386.98 245.26-105.99 17.668 2.8711 17.262 96.762-16.133 56.668 60.461-26.523 87.195-87.227 15.141-65.145-68.668-12.68 12.066 71.605 75.469 107.05-18.629 32.605-107.15-70-74.68z" fill-rule="evenodd"></path><path d="m361.79 88.68-106.78 23.207-39.785 92.867 16.098 6.8711 36.23-84.562 87.535-19.004 52.465 63.676-31.891 80.082 16.27 6.4609 35.684-89.688-65.832-79.91z" fill-rule="evenodd"></path><path d="m417.81 158.92-3.6914 17.09 84.562 18.355 14.766 84.938-70.207 35.102 7.8281 15.656 81.859-40.914-19.039-109.38-96.078-20.848z" fill-rule="evenodd"></path><path d="m418.91 412.63-11.074 13.535 46.449 38.008 11.074-13.535z" fill-rule="evenodd"></path><path d="m545 415.5-94.609 32.504-32.676 60.395 15.379 8.3398 29.465-54.414 88.148-30.281z" fill-rule="evenodd"></path><path d="m528.45 275.5-11.965 12.781 63.848 59.746 11.965-12.785-63.848-59.746z" fill-rule="evenodd"></path><path d="m536.96 123.2-38.043 59.129 14.73 9.4688 38.008-59.129-14.699-9.4688z" fill-rule="evenodd"></path><path d="m402.7 37.512-50.688 54.926 12.852 11.863 50.688-54.926-12.852-11.859z" fill-rule="evenodd"></path><path d="m168.57 344.68-25.359 71.812 16.508 5.8086 25.328-71.812z" fill-rule="evenodd"></path><path d="m113.41 225.84-8.375 15.379 46.449 25.328 8.4102-15.348z" fill-rule="evenodd"></path><path d="m220.7 70.77-11.758 12.957 46.449 42.246 11.793-12.953-46.484-42.246z" fill-rule="evenodd"></path><path d="m210.17 471.94-0.88672 17.5 88.594 4.4102 0.85547-17.465-88.559-4.4414z" fill-rule="evenodd"></path><path d="m312.47 432.63-26.352 57.113 81.93 43.031 8.1367-15.48-67.199-35.309 19.379-42.039z" fill-rule="evenodd"></path><path d="m170.69 456.04c3.5625 0.12891 6.8438-1.918 8.3008-5.168 1.457-3.25 0.79687-7.0586-1.668-9.6328-61.883-66.281-80.387-162.09-47.613-246.64 32.773-84.547 111-142.83 201.39-150.08 90.387-7.2539 176.91 37.805 222.75 116.04 1.1289 2.0859 3.0547 3.6211 5.3359 4.2617 2.2812 0.63672 4.7227 0.32422 6.7695-0.87109 2.0469-1.1953 3.5234-3.168 4.0859-5.4688 0.56641-2.3008 0.17578-4.7344-1.0859-6.7383-49.215-84-142.22-132.48-239.26-124.69-97.039 7.7891-181.11 70.453-216.29 161.23s-15.305 193.73 51.133 264.89c1.582 1.7461 3.8008 2.7812 6.1523 2.8711z"></path><path d="m228.22 501.5c4.0391 0.12891 7.6445-2.5273 8.7188-6.4258 1.0703-3.8984-0.66797-8.0234-4.207-9.9805-11.184-6.3945-21.828-13.711-31.82-21.84h-0.003906c-1.7891-1.5508-4.1289-2.3086-6.4883-2.1055-2.3594 0.20703-4.5352 1.3594-6.0312 3.1953-1.4922 1.8359-2.1797 4.2031-1.8984 6.5547 0.27734 2.3516 1.4961 4.4883 3.3789 5.9258 10.734 8.7344 22.168 16.578 34.18 23.445 1.2656 0.75391 2.6992 1.1758 4.1719 1.2266z"></path><path d="m380.28 531.92c41.148-4.9453 81.102-19.945 116-44.57 69.809-49.25 110.15-130.36 107.32-215.74h0.003906c-0.066406-2.3281-1.0586-4.5312-2.7578-6.125-1.6953-1.5938-3.957-2.4453-6.2812-2.3672-2.3281 0.074218-4.5273 1.0742-6.1133 2.7773-1.5898 1.7031-2.4336 3.9648-2.3477 6.293 2.6328 79.52-34.895 154.98-99.906 200.84-65.012 45.863-148.72 55.945-222.75 26.797-2.1758-0.94141-4.6367-0.96094-6.8281-0.054688-2.1875 0.91016-3.9141 2.668-4.7852 4.8711s-0.80859 4.6641 0.16797 6.8242c0.97656 2.1602 2.7891 3.8281 5.0195 4.6289 39.746 15.648 82.105 20.773 123.25 15.824z"></path><path d="m590.8 243.45c2.6211-0.011718 5.0977-1.1953 6.7539-3.2266s2.3125-4.6992 1.7891-7.2695c-3.043-16.129-7.6484-31.926-13.738-47.168v0.003906c-0.79297-2.25-2.4688-4.082-4.6406-5.0664-2.1719-0.98828-4.6523-1.043-6.8672-0.15625s-3.9688 2.6367-4.8633 4.8477c-0.89453 2.2109-0.84375 4.6914 0.13281 6.8672 5.6719 14.188 9.9492 28.906 12.785 43.922 0.73437 4.1992 4.3867 7.2578 8.6484 7.2461z"></path></g></svg>',1),as={class:"text-sm mr-2 sm:ml-5 <font-bold"},os={class:"w-5/6 m-auto"},ns={class:"mt-3 flex justify-between"},is=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),cs={class:"text-sm m-2"},rs=k(" Alle Spiele "),ds={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},us={key:0},ms={key:1},vs=e("div",{id:"league-info"},null,-1),hs={id:"no-data"},ps={id:"no-future-matches"},_s={class:"rounded-lg bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all"},gs={class:"grid grid-cols-3 sm:grid-cols-6 gap-1"},fs={id:"teams",class:"text-black w-fit col-span-2 text-xs font-bold"},bs={id:"date-time",class:"w-fit text-xs text-gray-800"},xs={class:"flex"},ws={class:"flex"},ys={id:"location",class:"flex text-black col-span-2"},$s={class:"truncate text-xs"},ks={id:"score",class:"flex w-fit"},Cs={class:"min-w-[20px] mr-1 text-right"},Ss=k(" : "),js={class:"min-w-[20px] ml-1"},ue={props:["team_id","team_class","team_club"],emits:["updateFavorites"],setup(N,{emit:g}){const o=N,_=te(),t=m([]),d=m(!1),n=m([]),s=m(null),v=m(null),c=m(null),w=m(null),F=m(null),L=m(!1),J=()=>{navigator.share?navigator.share({title:"Team",text:w.value.head.name+" "+F.value.lname,url:_.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},W=f=>f.replace("/","/<wbr>"),O=async()=>{const l=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+s.value+"&ct="+v.value)).json();w.value=l[0];const i=l[0].content.futureGames.games;L.value?n.value=i:n.value=i.filter(C=>{const h=C.gDate.split(".");return new Date("20"+h[2],h[1]-1,h[0])>new Date}),d.value=!1},E=()=>{if(!t.value.length)return!1;for(const f of t.value)if(f.type=="team"&&f.id==v.value)return!0},P=()=>{console.log("add favorite"),t.value.push({type:"team",id:v,name:w.value.head.sname,classid:s.value,clubno:c.value,clubname:F.value.lname}),M()},U=()=>{console.log("remove favorite");for(const f of t.value)console.log(f.type),console.log(f.id),f.type=="team"&&f.id==v.value&&t.value.splice(t.value.indexOf(f),1);M()},M=()=>{localStorage.setItem("favorites",JSON.stringify(t.value)),g("updateFavorites")},B=async()=>{const f=localStorage.getItem("favorites");f?t.value=JSON.parse(f):t.value=[]},q=se(o,"team_id");le(q,async(f,l)=>{console.log("update club"),f&&forceUpdate()});const R=async()=>{const l=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+c.value)).json();F.value=l[0].searchResult.list[0]},Q=async()=>{if(console.log(o.team_id),o.team_id&&o.team_class&&o.team_club)console.log("props"),v.value=o.team_id,s.value=o.team_class,c.value=o.team_club;else{const l=_.hash.substring(1).split(";");v.value=l[0],s.value=l[1],c.value=l[2]}console.log("teamID: "+v.value),console.log("teamClassID: "+s.value),console.log("teamClubNo: "+c.value)};return H(async()=>{await Q(),await B(),await O(),await R()}),(f,l)=>(r(),u("div",Et,[Pt,e("div",Rt,[p(b(we),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-20 top-5",onClick:J}),y(p(b(X),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:P},null,512),[[S,!E()]]),y(p(b(ae),{class:"h-6 w-6 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:U},null,512),[[S,E()]]),w.value?(r(),u("img",{key:0,src:"logos/clubs/"+c.value+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,Vt)):(r(),u("div",Ht,[p(b(ye),{class:"text-gray-700"})])),e("div",Jt,[e("div",Wt,a(w.value?w.value.head.name:""),1),e("div",Ut,a(F.value?F.value.lname:""),1)])]),e("div",Bt,[qt,w.value?(r(!0),u(T,{key:1},G(w.value.content.score,i=>(r(),u("div",Zt,[e("div",Xt,a(i.tabScore),1),e("div",{class:"font-bold text-sm",innerHTML:W(i.tabTeamname)},null,8,Yt),e("div",es,[ts,k(" "+a(i.numGoalsShot)+" : "+a(i.numGoalsGot),1)]),e("div",ss,[ls,k(" "+a(i.numPlayedGames),1)]),e("div",as,a(i.pointsPlus),1)]))),256)):(r(),u("div",Qt))]),e("div",os,[e("div",ns,[is,e("div",cs,[rs,y(e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"","onUpdate:modelValue":l[0]||(l[0]=i=>L.value=i),onClick:l[1]||(l[1]=i=>s.value?O():null)},null,512),[[oe,L.value]])])]),e("div",ds,[d.value?(r(),u("div",us,"Loading...")):(r(),u("div",ms,[vs,y(e("div",hs,[y(e("div",ps," Keine zuk\xFCnftigen Spiele ",512),[[S,!L.value]]),y(e("div",null," Keine Spiele in dieser Klasse ",512),[[S,L.value]])],512),[[S,!n.value.length]]),(r(!0),u(T,null,G(n.value,i=>(r(),u("div",_s,[e("div",gs,[e("div",fs,a(i.gHomeTeam)+" : "+a(i.gGuestTeam),1),e("div",bs,[e("div",xs,a(i.gWDay)+" "+a(i.gDate),1),e("div",ws,[p(b(ne),{class:"h-4 mr-1 text-indigo-900"}),k(" "+a(i.gTime),1)])]),e("div",ys,[p(b(ie),{class:"h-4 w-4 text-indigo-900 shrink-0"}),e("span",$s,a(i.gGymnasiumName),1)]),e("div",ks,[e("div",Cs,a(i.gHomeGoals),1),Ss,e("div",js,a(i.gGuestGoals),1)]),e("div",{id:"info",class:A(["col-span-3 text-gray-600",i.gComment.length>1?"flex":"hidden"])},[p(b(ce),{class:"h-4 w-4 mt-1 mr-1"}),k(" "+a(i.gComment),1)],2)])]))),256))]))])])]))}},Ds={class:"w-full h-full"},Is={class:"mr-5 transition-all"},Fs=["onClick"],zs=["onClick"],Ts={class:"ml-0 mr-auto"},Ns={class:"ml-auto mr-0"},Ls={key:2,class:"w-[calc(100%-4rem)] h-full ml-auto mr-0 flex justify-center items-center px-5"},As=e("span",{class:"text-lg"},[k(" Noch keine Favoriten angelegt. "),e("br"),k(" Gehen Sie daf\xFCr zur Suche oder den Ligen. ")],-1),Gs=[As],Ks={setup(N){const g=m([]),o=m({}),_=m(!1),t=s=>{o.value=s,localStorage.setItem("selectedFavorite",JSON.stringify(s))},d=()=>{const s=localStorage.getItem("selectedFavorite");s?o.value=JSON.parse(s):o.value={},console.log(s);let v=!1;g.value.forEach(c=>{c.type==o.value.type&&c.id==o.value.id&&(v=!0)}),v||(o.value=g.value[0])},n=async()=>{const s=localStorage.getItem("favorites");s?g.value=JSON.parse(s):g.value=[],d()};return H(async()=>{await n(),await d()}),(s,v)=>(r(),u("div",Ds,[e("div",{id:"menu",class:A(["h-full z-10 pl-5 w-[calc(50%+4rem)] bg-indigo-200 transition-all duration-300 fixed",_.value?"left-0":"-left-1/2"])},[p(b($e),{class:"h-8 w-8 m-5 ml-auto mr-5",onClick:v[0]||(v[0]=c=>_.value=!_.value)}),e("div",Is,[e("p",{class:A(["font-bold",_.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Verein ",2),(r(!0),u(T,null,G(g.value,c=>y((r(),u("div",{class:A(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",_.value?"":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:w=>t(c)},a(c.name),11,Fs)),[[S,c.type=="club"]])),256)),e("p",{class:A(["font-bold",_.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Team ",2),(r(!0),u(T,null,G(g.value,c=>y((r(),u("div",{class:A(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",_.value?"flex":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:w=>t(c)},[e("span",Ts,a(c.name),1),e("span",Ns,a(c.clubname),1)],10,zs)),[[S,c.type=="team"]])),256))])],2),o.value&&o.value.type=="club"?(r(),Z(de,{class:"w-[calc(100%-4rem)] ml-auto mr-0",club_no:o.value.no,key:o.value.no,onUpdateFavorites:n},null,8,["club_no"])):o.value&&o.value.type=="team"?(r(),Z(ue,{class:"w-[calc(100%-4rem)] ml-auto mr-0",team_id:o.value.id,team_class:o.value.classid,team_club:o.value.clubno,key:o.value.id,onUpdateFavorites:n},null,8,["team_id","team_class","team_club"])):(r(),u("div",Ls,Gs))]))}},Ms={},Os={},Es={},Ps=[{path:"//",redirect:"/favorites"},{path:"//team",component:ue,meta:{KeepAlive:!0}},{path:"//leagues",component:tt,meta:{KeepAlive:!0}},{path:"//favorites",component:Ks,meta:{KeepAlive:!0}},{path:"//search",component:et,meta:{KeepAlive:!0}},{path:"//match",component:Os,meta:{KeepAlive:!0}},{path:"//club",component:de,meta:{KeepAlive:!0}},{path:"//gym",component:Es,meta:{KeepAlive:!0}},{path:"//settings",component:Ms,meta:{KeepAlive:!0}}],Rs=ke({history:Ce(),routes:Ps}),Y=Se(Pe),Vs=je();Y.use(Rs);Y.use(Vs);Y.mount("#app");
