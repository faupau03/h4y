import{v as ge,n as pe,r as v,o as W,a as Y,b as n,c as d,d as p,e,w as V,u as y,f as fe,g as ee,h as se,F as D,i as F,j as w,k as $,t as g,l as _e,m as N,p as be,q as K,s as xe,x as te,y as ae,z as le,A as oe,B as ne,C as ie,D as ce,E as M,G as we,H as ye,I as $e,J as ke,K as Ce,L as Se,M as je,N as De,O as Ie,P as Fe}from"./vendor.8eb32c2f.js";const Te=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&m(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}};Te();function Ne(c={}){const{immediate:u=!1,onNeedRefresh:s,onOfflineReady:m,onRegistered:t,onRegisterError:r}=c;let a,l;const h=async(o=!0)=>{o&&(a==null||a.addEventListener("controlling",f=>{f.isUpdate&&window.location.reload()})),l&&l.waiting&&await pe(l.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){a=new ge("/sw.js",{scope:"/",type:"classic"}),a.addEventListener("activated",o=>{o.isUpdate||m==null||m()});{const o=()=>{s==null||s()};a.addEventListener("waiting",o),a.addEventListener("externalwaiting",o)}a.register({immediate:u}).then(o=>{l=o,t==null||t(o)}).catch(o=>{r==null||r(o)})}return h}const Le={class:"w-screen h-screen"},Ae={class:"z-10 bg-white fixed bottom-0 w-full border-t border-gray-200 flex"},Ke={class:"text-center"},Oe={class:"block h-8 text-3xl leading-8"},Ge=e("span",{class:"block text-xs leading-none"},"Ligen",-1),Ve={class:"text-center"},Me={class:"block h-8 text-3xl leading-8"},Ee=e("span",{class:"block text-xs leading-none"},"Favoriten",-1),ze={class:"text-center"},Pe={class:"block h-8 text-3xl leading-8"},Re=e("span",{class:"block text-xs leading-none"},"Suche",-1),He={setup(c){"serviceWorker"in navigator&&Ne();const u=v([]);return v({}),W(()=>{console.log("onMounted"),u.value=JSON.parse(localStorage.getItem("favorites")||"[]")}),(s,m)=>{const t=Y("router-view"),r=Y("router-link");return n(),d("div",Le,[p(t),e("div",Ae,[p(r,{to:"leagues",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:V(()=>[e("div",Ke,[e("span",Oe,[p(y(fe),{class:"h-7 w-7 mx-auto"})]),Ge])]),_:1}),p(r,{to:"favorites","active-class":"text-indigo-500",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500"},{default:V(()=>[e("div",Ve,[e("span",Me,[p(y(ee),{class:"h-7 w-7 mx-auto"})]),Ee])]),_:1}),p(r,{to:"search",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:V(()=>[e("div",ze,[e("span",Pe,[p(y(se),{class:"h-7 w-7 mx-auto"})]),Re])]),_:1})])])}}};const Je=e("div",{class:"ml-5 mt-3 mb-3 absolute"},[e("h1",{class:"text-3xl font-bold"},"Suche"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"},"Verein / Halle")],-1),Ue={class:"flex justify-center w-full pt-20"},We={class:"flex w-4/6"},Be={class:"w-4/6 mx-auto"},qe=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Verein",-1),Ze={id:"clubs"},Qe=["onClick"],Xe={class:"text-sm text-gray-500"},Ye=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Halle",-1),et={id:"gyms"},tt=["onClick"],st={class:"text-sm text-gray-500"},at={setup(c){const u=v(!1);v([]),v(""),v("Show more");const s=v([]),m=v([]);v("");const t=async r=>{u.value=!0;const a=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+r),l=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=gs&gs="+r),h=await a.json(),o=await l.json();s.value=h[0].searchResult.list,m.value=o[0].searchResult.list,u.value=!1};return(r,a)=>(n(),d(D,null,[Je,e("div",Ue,[e("div",We,[p(y(se),{class:"ml-auto h-6 mt-2 text-neutral-800 mr-0 z-10"}),e("input",{type:"text",autocomplete:"off",class:"-ml-8 w-full pl-8 rounded-full",onInput:a[0]||(a[0]=l=>t(l.target.value))},null,32)])]),e("div",Be,[qe,e("div",Ze,[(n(!0),d(D,null,F(s.value,l=>(n(),d("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:h=>r.$router.push("club#"+l.no)},g(l.lname),9,Qe))),256)),w(e("div",Xe," Keine Ergebnisse ",512),[[$,s.value.length<1]])]),Ye,e("div",et,[(n(!0),d(D,null,F(m.value,l=>(n(),d("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:h=>r.$router.push("gym#"+l.no)},g(l.lname),9,tt))),256)),w(e("div",st," Keine Ergebnisse ",512),[[$,m.value.length<1]])])])],64))}},lt={},ot={class:"rounded-lg bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all"},nt={class:"grid grid-cols-3 sm:grid-cols-6 gap-1"},it={id:"teams",class:"text-black w-fit col-span-2 text-xs font-bold"},ct={id:"date-time",class:"w-fit text-xs text-gray-800"},rt={class:"flex"},dt={class:"flex"},ut={id:"location",class:"flex text-black col-span-2"},mt={class:"truncate text-xs"},vt={id:"score",class:"flex w-fit text-black"},ht={class:"min-w-[20px] mr-1 text-right"},gt=N(" : "),pt={class:"min-w-[20px] ml-1"},re={props:["match"],setup(c){return(u,s)=>(n(),d("div",ot,[e("div",nt,[e("div",it,g(c.match.gHomeTeam)+" : "+g(c.match.gGuestTeam),1),e("div",ct,[e("div",rt,g(c.match.gWDay)+" "+g(c.match.gDate),1),e("div",dt,[p(y(_e),{class:"h-4 mr-1 text-indigo-900"}),N(" "+g(c.match.gTime),1)])]),e("div",ut,[p(y(be),{class:"h-4 w-4 text-indigo-900 shrink-0"}),e("span",mt,g(c.match.gGymnasiumName),1)]),e("div",vt,[e("div",ht,g(c.match.gHomeGoals),1),gt,e("div",pt,g(c.match.gGuestGoals),1)]),e("div",{id:"info",class:K(["col-span-3 text-xs text-gray-600",c.match.gComment.length>1?"flex":"hidden"])},[p(y(xe),{class:"h-4 w-4 mr-1"}),N(" "+g(c.match.gComment),1)],2)])]))}};var de=(c,u)=>{const s=c.__vccOpts||c;for(const[m,t]of u)s[m]=t;return s};const ft={},_t={class:"rounded-lg xs:h-[76px] sm:h-[48px] h-[92px] w-full bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all"},bt=te('<div class="grid grid-cols-3 sm:grid-cols-6 gap-1"><div id="teams" class="text-black w-fit col-span-2 text-xs font-bold"><span class="w-12 h-4 animate-pulse rounded -mb-1 bg-gray-500 inline-block"></span> : <span class="w-12 h-4 animate-pulse rounded -mb-1 bg-gray-500 inline-block"></span></div><div id="date-time" class="w-fit text-xs text-gray-800"><span class="inline-block w-6 animate-pulse rounded xs:hidden h-3 bg-gray-500"></span><div class="flex"><span class="w-4 mr-1 hidden xs:block animate-pulse rounded h-3 bg-gray-500"></span><span class="w-12 animate-pulse rounded h-3 bg-gray-500"></span></div><div class="flex"><div class="h-4 w-4 mt-0.5 animate-pulse bg-gray-500 rounded-full mr-1 shrink-0"></div><span class="w-8 h-3 mt-1 animate-pulse rounded m-0.5 bg-gray-500"></span></div></div><div id="location" class="flex text-black col-span-2 mt-1"><div class="h-4 w-4 bg-gray-500 animate-pulse rounded-full mr-1 shrink-0"></div><span class="truncate text-xs"><span class="w-20 rounded animate-pulse h-4 bg-gray-500 inline-block"></span></span></div><div id="score" class="flex w-fit text-black"><div class="min-w-[20px] mr-1 text-right"><span class="w-5 animate-pulse -mb-1 h-4 inline-block rounded bg-gray-500"></span></div> : <div class="min-w-[20px] ml-1"><span class="w-5 animate-pulse -mb-1 h-4 inline-block rounded bg-gray-500"></span></div></div></div>',1),xt=[bt];function wt(c,u){return n(),d("div",_t,xt)}var ue=de(ft,[["render",wt]]);async function yt(c,u){const m=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=1&cmd=ps&cl="+c)).json();if(!m[0].content.score.length)return null;const t=m[0].content.score.filter(a=>a.tabTeamname.includes(u));return console.log(t[0].tabTeamID),console.log(t),t.map(a=>(console.log(a.tabTeamname),console.log(a.tabTeamID),a.tabTeamID))}async function $t(c,u,s,m){if(!c)return s.find(l=>l.gClassID===u).matches;const r=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+u+"&ct="+c)).json();console.log(r);const a=r[0].content.futureGames.games;return m?a:a.filter(l=>{const h=l.gDate.split("."),o=l.gTime.split(":"),f=new Date("20"+h[2],h[1]-1,h[0],o[0],o[1]);return f.setHours(f.getHours()+2),f>new Date})}const kt={class:"w-full h-full"},Ct=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Verein"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),St={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},jt=["src"],Dt={key:1},It={id:"club-info",class:"my-10 m-5 line-clamp-4 break-words"},Ft={class:"font-bold"},Tt={class:"text-gray-800"},Nt={class:"text-gray-800"},Lt=["href"],At={class:"w-5/6 m-auto"},Kt={class:"mt-3 flex justify-between"},Ot=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),Gt={class:"text-sm m-2"},Vt=N(" Alle Spiele "),Mt={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},Et={class:"mr-4 ml-auto text-opacity-75"},zt=N("Zum Team"),Pt={class:"h-4 w-14 ml-auto mr-0 bg-indigo-300 rounded block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},Rt={key:0},Ht={key:1},Jt=e("div",{id:"league-info"},null,-1),Ut={id:"no-data",class:"mb-2"},Wt={id:"no-future-matches"},Bt=["data-id","onClick"],me={props:["club_no"],emits:["updateFavorites","disclosure-update"],setup(c,{emit:u}){const s=c,m=ce(),t=v({}),r=v([]),a=v([]),l=v(!1),h=v([]),o=v(null),f=v([]),S=v(!1);t.value={};const L=v([]),O=()=>{navigator.share?navigator.share({title:"Verein",text:t.value.lname,url:m.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},B=i=>{L.value.filter(C=>C.getAttribute("data-id")!==i.toString()).forEach(C=>C.click())},P=(i,b)=>{if(!b)return;const C=L.value.find(x=>x.getAttribute("data-id")===f.value);console.log(C),i(C)},R=async()=>{let i="";s.club_no?i=s.club_no:i=m.hash.substring(1);const C=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+i)).json();t.value=C[0].searchResult.list[0]},q=async()=>{const b=await(await fetch("/club_address.json")).json();t.value.webaddress=b[t.value.no]},Z=async()=>{const b=await(await fetch("https://spo.handball4all.de/misc/mobApp.php?jsoncallback=teamData&format=json&cmd=data&lvTypeNext=club&lvIDNext="+t.value.id)).text();new Function("teamData",b)(function(x){const T=x[0].dataList;var I=[];for(const A in T){let j=I.length-1;if(!I[j]||I[j].gClassID!=T[A].gClassID){const G={gClassID:T[A].gClassID,gClassSname:T[A].gClassSname,matches:[]};let E=!1;G.gClassID||(G.gClassID=T[A].class,E=!0),G.gClassSname||(G.gClassSname=T[A].class_sname,E=!0),j=I.push(G)-1,E||I[j].matches.push(T[A])}else I[j].matches.push(T[A])}r.value=I})},z=async i=>{l.value=!0,f.value=await yt(i,t.value.lname),console.log("There are "+f.value.length+" teams of this club in this class."),h.value={};for(const b of f.value)console.log(b),h.value[b]=await $t(b,i,t.value.lname,S.value);console.log(await h.value),l.value=!1},H=()=>{if(!a.value.length)return!1;for(const i of a.value)if(i.type=="club"&&i.id==t.value.id)return!0},Q=()=>{a.value.push({type:"club",id:t.value.id,name:t.value.lname,no:t.value.no}),J()},X=()=>{for(const i of a.value)i.type=="club"&&i.id==t.value.id&&a.value.splice(a.value.indexOf(i),1);J()},J=()=>{localStorage.setItem("favorites",JSON.stringify(a.value)),u("updateFavorites")},_=async()=>{const i=localStorage.getItem("favorites");i?a.value=JSON.parse(i):a.value=[]},k=ae(s,"club_no");return le(k,async(i,b)=>{console.log("update club"),i&&forceUpdate()}),W(async()=>{await R(),await _(),await q(),await Z()}),(i,b)=>{const C=Y("router-link");return n(),d("div",kt,[Ct,e("div",St,[p(y(oe),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-20 top-5",onClick:O}),w(p(y(ee),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:Q},null,512),[[$,!H()]]),w(p(y(ne),{class:"h-6 w-6 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:X},null,512),[[$,H()]]),t.value?(n(),d("img",{key:0,src:"logos/clubs/"+t.value.no+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,jt)):(n(),d("div",Dt,"Loading...")),e("div",It,[e("div",Ft,g(t.value.lname),1),e("div",Tt,"Postleitzahl: "+g(t.value.postal),1),e("div",Nt,"Nummer: "+g(t.value.no),1)]),e("a",{class:"absolute bottom-5 right-5 underline text-indigo-500 hover:text-indigo-800",href:"http://"+t.value.webaddress},g(t.value.webaddress),9,Lt)]),e("div",At,[e("div",Kt,[Ot,e("div",Gt,[Vt,w(e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"","onUpdate:modelValue":b[0]||(b[0]=x=>S.value=x),onClick:b[1]||(b[1]=x=>o.value?z(o.value):null)},null,512),[[ie,S.value]])])]),e("div",Mt,[(n(!0),d(D,null,F(r.value,(x,T)=>(n(),M(y(ke),{key:x.gClassID},{default:V(({open:I,close:A})=>[p(y(ye),{class:K(["flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-indigo-900 bg-indigo-100 rounded-t-lg hover:bg-indigo-200 focus:outline-none focus-visible:ring focus-visible:ring-indigo-500 focus-visible:ring-opacity-75",[x.matches.length?"":"!text-gray-600 !bg-gray-200",I?"":"my-1 rounded-lg"]]),onClick:j=>(o.value=x.gClassID,l.value=!0,B(x.gClassID),z(x.gClassID)),disabled:!x.matches.length},{default:V(()=>[e("span",null,g(x.gClassSname),1),e("span",Et,g(x.matches.length?"":"spielfrei"),1),p(y(we),{class:K(["w-5 h-5 text-indigo-900",[I?"transform rotate-180":"",x.matches.length?"":"!text-gray-500"]])},null,8,["class"])]),_:2},1032,["class","onClick","disabled"]),p(y($e),{class:"px-4 pt-4 pb-2 text-sm text-gray-500 bg-indigo-100 rounded-b-lg"},{default:V(()=>[(n(!0),d(D,null,F(h.value,(j,G,E)=>(n(),d("div",{key:G},[e("hr",{class:K(["bg-gray-400 text-black h-[1.5px]",E===0?"-mt-3":""])},null,2),w(p(C,{to:"team#"+f.value[E]+";"+x.gClassID+";"+t.value.no,class:"ml-auto mr-0 w-fit block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},{default:V(()=>[zt]),_:2},1032,["to"]),[[$,f.value&&!l.value]]),w(e("span",Pt,null,512),[[$,l.value]]),l.value?(n(),d("div",Rt,[(n(),d(D,null,F(3,U=>p(ue,{key:U})),64))])):(n(),d("div",Ht,[Jt,(n(!0),d(D,null,F(j,U=>(n(),M(re,{key:U.gID,match:U},null,8,["match"]))),128)),w(e("div",Ut,[w(e("div",Wt," Keine zuk\xFCnftigen Spiele ",512),[[$,!S.value]]),w(e("div",null," Keine Spiele in dieser Klasse ",512),[[$,S.value]])],512),[[$,!j.length]])]))]))),128))]),_:2},1024),w(e("button",{ref_for:!0,ref:j=>L.value[T]=j,"data-id":x.gClassID,onClick:j=>P(A,I)},null,8,Bt),[[$,!1]])]),_:2},1024))),128))])])])}}};var qt="/icons/goal.png",Zt="/icons/ball.svg";const Qt={class:"flex p-1 m-1 bg-indigo-100 rounded-lg"},Xt={class:"text-sm mr-1"},Yt=["innerHTML"],es={class:"ml-auto hidden sm:flex mr-7 text-sm"},ts=e("img",{class:"h-5 w-5 mt-0.5 mr-1",src:qt,alt:""},null,-1),ss={class:"text-sm flex sm:ml-0 ml-auto mr-7 w-fit"},as=e("img",{class:"h-4 mt-1",src:Zt,alt:""},null,-1),ls={class:"text-sm mr-2 sm:ml-5 <font-bold"},os={props:["team_score"],setup(c){const u=s=>s.replace("/","/<wbr>");return(s,m)=>(n(),d("div",Qt,[e("div",Xt,g(c.team_score.tabScore),1),e("div",{class:"font-bold text-sm",innerHTML:u(c.team_score.tabTeamname)},null,8,Yt),e("div",es,[ts,N(" "+g(c.team_score.numGoalsShot)+" : "+g(c.team_score.numGoalsGot),1)]),e("div",ss,[as,N(" "+g(c.team_score.numPlayedGames),1)]),e("div",ls,g(c.team_score.pointsPlus),1)]))}},ns={},is={class:"flex p-1 m-1 bg-indigo-100 rounded-lg"},cs=te('<div class="text-sm mr-1"><span class="bg-gray-500 animate-pulse h-4 w-20 mt-1 ml-1 inline-block rounded"></span></div><div class="font-bold text-sm"><span class="bg-gray-500 animate-pulse h-4 w-12"></span></div><div class="ml-auto hidden sm:flex mr-7 text-sm"><span class="bg-gray-500 animate-pulse h-4 w-4 rounded-full mr-1 mt-1"></span><span class="bg-gray-500 animate-pulse h-4 w-8 mt-1 rounded"></span> : <span class="bg-gray-500 animate-pulse h-4 w-8 mt-1 rounded"></span></div><div class="text-sm flex sm:ml-0 ml-auto mr-4 w-fit"><span class="bg-gray-500 animate-pulse h-4 w-4 rounded-full mr-1 mt-1"></span><span class="bg-gray-500 animate-pulse h-4 w-6 rounded mt-1"></span></div><div class="text-sm mr-2 sm:ml-5 font-bold"><span class="bg-gray-500 animate-pulse h-4 w-6 inline-block mt-1 rounded"></span></div>',5),rs=[cs];function ds(c,u){return n(),d("div",is,rs)}var us=de(ns,[["render",ds]]);const ms={class:"w-full h-full"},vs=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Team"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),hs={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},gs=["src"],ps={key:1,class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-300 shadow-2xl bg-gray-300"},fs={id:"club-info",class:"my-12 m-5"},_s={class:"font-bold"},bs={class:"text-sm text-gray-900"},xs={id:"scores",class:"w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative mt-2"},ws=te('<div class="flex mt-1"><span class="font-bold ml-2"> Tabelle </span><span class="hidden sm:block ml-auto mr-9"> Tore </span><span class="sm:ml-0 ml-auto mr-5"> Spiele </span><span class="mr-2"> Punkte </span></div>',1),ys={class:"w-5/6 m-auto"},$s={class:"mt-3 flex justify-between"},ks=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),Cs={class:"text-sm m-2"},Ss=N(" Alle Spiele "),js={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},Ds={key:0},Is={key:1},Fs=e("div",{id:"league-info"},null,-1),Ts={id:"no-data"},Ns={id:"no-future-matches"},ve={props:["team_id","team_class","team_club"],emits:["updateFavorites"],setup(c,{emit:u}){const s=c,m=ce(),t=v([]),r=v(!1),a=v(!1),l=v([]),h=v(null),o=v(null),f=v(null),S=v(null),L=v(null),O=v(!1),B=()=>{navigator.share?navigator.share({title:"Team",text:S.value.head.name+" "+L.value.lname,url:m.fullPath}):alert("Dein Browser unterst\xFCtzt das Share-Feature nicht.")},P=async()=>{a.value=!0;const k=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+h.value+"&ct="+o.value)).json();S.value=k[0];const i=k[0].content.futureGames.games;O.value?l.value=i:l.value=i.filter(b=>{const C=b.gDate.split(".");return new Date("20"+C[2],C[1]-1,C[0])>new Date}),a.value=!1},R=()=>{if(!t.value.length)return!1;for(const _ of t.value)if(_.type=="team"&&_.id==o.value)return!0},q=()=>{console.log("add favorite"),t.value.push({type:"team",id:o,name:S.value.head.sname,classid:h.value,clubno:f.value,clubname:L.value.lname}),z()},Z=()=>{console.log("remove favorite");for(const _ of t.value)console.log(_.type),console.log(_.id),_.type=="team"&&_.id==o.value&&t.value.splice(t.value.indexOf(_),1);z()},z=()=>{localStorage.setItem("favorites",JSON.stringify(t.value)),u("updateFavorites")},H=async()=>{const _=localStorage.getItem("favorites");_?t.value=JSON.parse(_):t.value=[]},Q=ae(s,"team_id");le(Q,async(_,k)=>{console.log("update club"),_&&forceUpdate()});const X=async()=>{const k=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+f.value)).json();L.value=k[0].searchResult.list[0]},J=async()=>{if(console.log(s.team_id),s.team_id&&s.team_class&&s.team_club)console.log("props"),o.value=s.team_id,h.value=s.team_class,f.value=s.team_club;else{const k=m.hash.substring(1).split(";");o.value=k[0],h.value=k[1],f.value=k[2]}console.log("teamID: "+o.value),console.log("teamClassID: "+h.value),console.log("teamClubNo: "+f.value)};return W(async()=>{await J(),await H(),await P(),await X()}),(_,k)=>(n(),d("div",ms,[vs,e("div",hs,[p(y(oe),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-20 top-5",onClick:B}),w(p(y(ee),{class:"h-6 w-6 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:q},null,512),[[$,!R()]]),w(p(y(ne),{class:"h-6 w-6 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:Z},null,512),[[$,R()]]),S.value?(n(),d("img",{key:0,src:"logos/clubs/"+f.value+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,gs)):(n(),d("div",ps,[p(y(Ce),{class:"text-gray-700"})])),e("div",fs,[e("div",_s,g(S.value?S.value.head.name:""),1),e("div",bs,g(L.value?L.value.lname:""),1)])]),e("div",xs,[ws,r.value?(n(),M(us,{key:0})):S.value?(n(!0),d(D,{key:1},F(S.value.content.score,i=>(n(),M(os,{key:i.tabTeamID,team_score:i},null,8,["team_score"]))),128)):Se("",!0)]),e("div",ys,[e("div",$s,[ks,e("div",Cs,[Ss,w(e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"","onUpdate:modelValue":k[0]||(k[0]=i=>O.value=i),onClick:k[1]||(k[1]=i=>h.value?P():null)},null,512),[[ie,O.value]])])]),e("div",js,[a.value?(n(),d("div",Ds,[(n(),d(D,null,F(3,i=>p(ue,{key:i})),64))])):(n(),d("div",Is,[Fs,w(e("div",Ts,[w(e("div",Ns," Keine zuk\xFCnftigen Spiele ",512),[[$,!O.value]]),w(e("div",null," Keine Spiele in dieser Klasse ",512),[[$,O.value]])],512),[[$,!l.value.length]]),(n(!0),d(D,null,F(l.value,i=>(n(),M(re,{key:i.id,match:i},null,8,["match"]))),128))]))])])]))}},Ls={class:"w-full h-full"},As={class:"mr-5 transition-all"},Ks=["onClick"],Os=["onClick"],Gs={class:"ml-0 mr-auto"},Vs={class:"ml-auto mr-0"},Ms={key:2,class:"w-[calc(100%-4rem)] h-full ml-auto mr-0 flex justify-center items-center px-5"},Es=e("span",{class:"text-lg"},[N(" Noch keine Favoriten angelegt. "),e("br"),N(" Gehen Sie daf\xFCr zur Suche oder den Ligen. ")],-1),zs=[Es],Ps={setup(c){const u=v([]),s=v({}),m=v(!1),t=l=>{s.value=l,localStorage.setItem("selectedFavorite",JSON.stringify(l))},r=()=>{const l=localStorage.getItem("selectedFavorite");l?s.value=JSON.parse(l):s.value={},console.log(l);let h=!1;u.value.forEach(o=>{o.type==s.value.type&&o.id==s.value.id&&(h=!0)}),h||(s.value=u.value[0])},a=async()=>{const l=localStorage.getItem("favorites");l?u.value=JSON.parse(l):u.value=[],r()};return W(async()=>{await a(),await r()}),(l,h)=>(n(),d("div",Ls,[e("div",{id:"menu",class:K(["h-full z-10 pl-5 w-[calc(50%+4rem)] bg-indigo-200 transition-all duration-300 fixed",m.value?"left-0":"-left-1/2"])},[p(y(je),{class:"h-8 w-8 m-5 ml-auto mr-5",onClick:h[0]||(h[0]=o=>m.value=!m.value)}),e("div",As,[e("p",{class:K(["font-bold",m.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Verein ",2),(n(!0),d(D,null,F(u.value,o=>w((n(),d("div",{class:K(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",m.value?"":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:f=>t(o)},g(o.name),11,Ks)),[[$,o.type=="club"]])),256)),e("p",{class:K(["font-bold",m.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])}," Team ",2),(n(!0),d(D,null,F(u.value,o=>w((n(),d("div",{class:K(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",m.value?"flex":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:f=>t(o)},[e("span",Gs,g(o.name),1),e("span",Vs,g(o.clubname),1)],10,Os)),[[$,o.type=="team"]])),256))])],2),s.value&&s.value.type=="club"?(n(),M(me,{class:"w-[calc(100%-4rem)] ml-auto mr-0",club_no:s.value.no,key:s.value.no,onUpdateFavorites:a},null,8,["club_no"])):s.value&&s.value.type=="team"?(n(),M(ve,{class:"w-[calc(100%-4rem)] ml-auto mr-0",team_id:s.value.id,team_class:s.value.classid,team_club:s.value.clubno,key:s.value.id,onUpdateFavorites:a},null,8,["team_id","team_class","team_club"])):(n(),d("div",Ms,zs))]))}},Rs={},Hs={},Js={},Us=[{path:"//",redirect:"/favorites"},{path:"//team",component:ve,meta:{KeepAlive:!0}},{path:"//leagues",component:lt,meta:{KeepAlive:!0}},{path:"//favorites",component:Ps,meta:{KeepAlive:!0}},{path:"//search",component:at,meta:{KeepAlive:!0}},{path:"//match",component:Hs,meta:{KeepAlive:!0}},{path:"//club",component:me,meta:{KeepAlive:!0}},{path:"//gym",component:Js,meta:{KeepAlive:!0}},{path:"//settings",component:Rs,meta:{KeepAlive:!0}}],Ws=De({history:Ie(),routes:Us}),he=Fe(He);he.use(Ws);he.mount("#app");
