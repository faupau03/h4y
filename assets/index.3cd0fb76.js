import{v as oe,r as c,o as T,a as R,b as u,c as p,d as m,e,w as D,u as b,f as ae,g as J,h as H,F as I,i as K,j as C,k as j,t as f,l as le,m as ne,n as ie,p as ce,q as F,s as re,x as W,y as de,z as N,A as ue,B as he,C as ve,D as fe,E as me,G as pe,H as _e,I as ge,J as xe,K as be}from"./vendor.940e3a03.js";const ye=function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))v(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&v(l)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function v(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}};ye();function we(S={}){const{immediate:h=!1,onNeedRefresh:i,onOfflineReady:v,onRegistered:t,onRegisterError:s}=S;let l;const a=async(n=!0)=>{};return"serviceWorker"in navigator&&(l=new oe("/h4y/sw.js",{scope:"/h4y/",type:"classic"}),l.addEventListener("activated",n=>{n.isUpdate?window.location.reload():v==null||v()}),l.register({immediate:h}).then(n=>{t==null||t(n)}).catch(n=>{s==null||s(n)})),a}const $e={class:"w-screen h-screen"},ke={class:"z-10 bg-white fixed bottom-0 w-full border-t border-gray-200 flex"},Ce={class:"text-center"},je={class:"block h-8 text-3xl leading-8"},Se=e("span",{class:"block text-xs leading-none"},"Ligen",-1),De={class:"text-center"},Fe={class:"block h-8 text-3xl leading-8"},Ie=e("span",{class:"block text-xs leading-none"},"Favoriten",-1),Ne={class:"text-center"},Ae={class:"block h-8 text-3xl leading-8"},Ke=e("span",{class:"block text-xs leading-none"},"Suche",-1),Le={setup(S){"serviceWorker"in navigator&&we();const h=c([]);return c({}),T(()=>{console.log("onMounted"),h.value=JSON.parse(localStorage.getItem("favorites")||"[]")}),(i,v)=>{const t=R("router-view"),s=R("router-link");return u(),p("div",$e,[m(t),e("div",ke,[m(s,{to:"leagues",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:D(()=>[e("div",Ce,[e("span",je,[m(b(ae),{class:"h-7 w-7 mx-auto"})]),Se])]),_:1}),m(s,{to:"favorites","active-class":"text-indigo-500",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500"},{default:D(()=>[e("div",De,[e("span",Fe,[m(b(J),{class:"h-7 w-7 mx-auto"})]),Ie])]),_:1}),m(s,{to:"search",class:"flex flex-grow items-center justify-center p-2 hover:text-indigo-500","active-class":"text-indigo-500"},{default:D(()=>[e("div",Ne,[e("span",Ae,[m(b(H),{class:"h-7 w-7 mx-auto"})]),Ke])]),_:1})])])}}};const Oe=e("div",{class:"ml-5 mt-3 mb-3 absolute"},[e("h1",{class:"text-3xl font-bold"},"Suche"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"},"Verein / Halle")],-1),Re={class:"flex justify-center w-full pt-20"},Te={class:"flex w-4/6"},Ee={class:"w-4/6 mx-auto"},Ve=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Verein",-1),ze={id:"clubs"},Ge=["onClick"],Me={class:"text-sm text-gray-500"},Je=e("div",{class:"rounded-lg w-full mt-5 text-sm text-gray-500 uppercase font-bold"},"Halle",-1),He={id:"gyms"},We=["onClick"],Be={class:"text-sm text-gray-500"},Pe={setup(S){const h=c(!1);c([]),c(""),c("Show more");const i=c([]),v=c([]);c("");const t=async s=>{h.value=!0;const l=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+s),a=await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=gs&gs="+s),n=await l.json(),$=await a.json();i.value=n[0].searchResult.list,v.value=$[0].searchResult.list,h.value=!1};return(s,l)=>(u(),p(I,null,[Oe,e("div",Re,[e("div",Te,[m(b(H),{class:"ml-auto h-6 mt-2 text-neutral-800 mr-0 z-10"}),e("input",{type:"text",autocomplete:"off",class:"-ml-8 w-full pl-8 rounded-full",onInput:l[0]||(l[0]=a=>t(a.target.value))},null,32)])]),e("div",Ee,[Ve,e("div",ze,[(u(!0),p(I,null,K(i.value,a=>(u(),p("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:n=>s.$router.push("club#"+a.no)},f(a.lname),9,Ge))),256)),C(e("div",Me," Keine Ergebnisse ",512),[[j,i.value.length<1]])]),Je,e("div",He,[(u(!0),p(I,null,K(v.value,a=>(u(),p("div",{class:"transform transition-all duration-300 scale-100 hover:scale-95 rounded-lg w-full border-neutral-300 border p-2 my-2",onClick:n=>s.$router.push("gym#"+a.no)},f(a.lname),9,We))),256)),C(e("div",Be," Keine Ergebnisse ",512),[[j,v.value.length<1]])])])],64))}},M={},Ue={class:"w-full h-full"},qe=e("div",{class:"ml-5 pt-3 mb-3"},[e("h1",{class:"text-3xl font-bold"},"Verein"),e("p",{class:"text-sm text-gray-500 uppercase font-bold"}," Spiel\xFCbersicht ")],-1),Ze={id:"club-header",class:"flex w-5/6 m-auto border border-gray-100 shadow-xl rounded-lg relative"},Qe=["src"],Xe={key:1},Ye={id:"club-info",class:"my-10 m-5 line-clamp-4 break-words"},et={class:"font-bold"},tt={class:"text-gray-800"},st={class:"text-gray-800"},ot=["href"],at={class:"w-5/6 m-auto"},lt={class:"mt-3 flex justify-between"},nt=e("h2",{class:"font-bold text-lg m-1"},"Spiele",-1),it={class:"text-sm m-2"},ct=F(" Alle Spiele "),rt={class:"overflow-auto max-h-[50%] w-full mx-auto bg-white rounded-2xl border border-gray-100 shadow-xl p-2 mb-20"},dt={class:"mr-4 ml-auto text-opacity-75"},ut=e("hr",{class:"bg-gray-400 text-black h-[1.5px] mb-2 -mt-3"},null,-1),ht=F("Zum Team"),vt={key:0},ft={key:1},mt=e("div",{id:"league-info"},null,-1),pt={id:"no-data"},_t={id:"no-future-matches"},gt={class:"rounded-lg bg-indigo-200 my-1 p-2 justify-between px-5 hover:scale-95 scale-100 transition-all"},xt={class:"grid grid-cols-3 sm:grid-cols-6 gap-1"},bt={id:"teams",class:"text-black w-fit col-span-2 text-xs font-bold"},yt={id:"date-time",class:"w-fit text-xs text-gray-800"},wt={class:"flex"},$t={class:"flex"},kt={id:"location",class:"flex text-black col-span-2"},Ct={class:"truncate text-xs"},jt={id:"score",class:"flex w-fit"},St={class:"min-w-[20px] mr-1 text-right"},Dt=F(" : "),Ft={class:"min-w-[20px] ml-1"},It=["data-id","onClick"],B={props:["club_no"],emits:["updateFavorites","disclosure-update"],setup(S,{emit:h}){const i=S,v=re(),t=c({}),s=c([]),l=c([]),a=c(!1),n=c([]),$=c(null),E=c(null),A=c(!1);t.value={};const O=c([]),U=o=>{O.value.filter(x=>x.getAttribute("data-id")!==o.toString()).forEach(x=>x.click())},q=(o,g)=>{if(!g)return;const x=O.value.find(r=>r.getAttribute("data-id")===E);console.log(x),o(x)},Z=async()=>{let o="";i.club_no?o=i.club_no:o=v.hash.substring(1);const x=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?cmd=cs&cs="+o)).json();t.value=x[0].searchResult.list[0]},Q=async()=>{const g=await(await fetch("/club_address.json")).json();t.value.webaddress=g[t.value.no]},V=async o=>{console.log(o),n.value=o,h("disclosure-update"),a.value=!0;const x=await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=1&cmd=ps&cl="+o)).json();if(!x[0].content.score.length){n.value=s.value.find(_=>_.gClassID===o).matches,a.value=!1;return}const r=x[0].content.score.find(_=>_.tabTeamname.includes(t.value.lname));console.log(r.tabTeamID);const w=(await(await fetch("https://spo.handball4all.de/service/if_g_json.php?ca=0&cmd=ps&cl="+o+"&ct="+r.tabTeamID)).json())[0].content.futureGames.games;A.value?n.value=w:n.value=w.filter(_=>{const d=_.gDate.split(".");return new Date("20"+d[2],d[1]-1,d[0])>new Date}),a.value=!1},X=async()=>{const g=await(await fetch("https://spo.handball4all.de/misc/mobApp.php?jsoncallback=teamData&format=json&cmd=data&lvTypeNext=club&lvIDNext="+t.value.id)).text();new Function("teamData",g)(function(r){const k=r[0].dataList;var y=[];for(const w in k){let _=y.length-1;if(!y[_]||y[_].gClassID!=k[w].gClassID){const d={gClassID:k[w].gClassID,gClassSname:k[w].gClassSname,matches:[]};let L=!1;d.gClassID||(d.gClassID=k[w].class,L=!0),d.gClassSname||(d.gClassSname=k[w].class_sname,L=!0),_=y.push(d)-1,L||y[_].matches.push(k[w])}else y[_].matches.push(k[w])}s.value=y})},z=()=>{if(!l.value.length)return!1;for(const o of l.value)if(o.type=="club"&&o.id==t.value.id)return!0},Y=()=>{l.value.push({type:"club",id:t.value.id,name:t.value.lname,no:t.value.no}),G()},ee=()=>{for(const o of l.value)o.type=="club"&&o.id==t.value.id&&l.value.splice(l.value.indexOf(o),1);G()},G=()=>{localStorage.setItem("favorites",JSON.stringify(l.value)),h("updateFavorites")},te=async()=>{const o=localStorage.getItem("favorites");o?l.value=JSON.parse(o):l.value=[]},se=le(i,"club_no");return ne(se,async(o,g)=>{console.log("update club"),o&&forceUpdate()}),T(async()=>{await Z(),await X(),await te(),await Q()}),(o,g)=>{const x=R("router-link");return u(),p("div",Ue,[qe,e("div",Ze,[C(m(b(J),{class:"h-5 w-5 mt-1 ml-2 hover:text-indigo-500 absolute right-5 top-5",onClick:Y},null,512),[[j,!z()]]),C(m(b(ie),{class:"h-5 w-5 mt-1 ml-2 text-indigo-500 hover:text-black absolute right-5 top-5",onClick:ee},null,512),[[j,z()]]),t.value?(u(),p("img",{key:0,src:"logos/clubs/"+t.value.no+".png",alt:"",class:"w-1/3 h-1/3 my-10 ml-5 rounded-lg border border-gray-500"},null,8,Qe)):(u(),p("div",Xe,"Loading...")),e("div",Ye,[e("div",et,f(t.value.lname),1),e("div",tt,"Postleitzahl: "+f(t.value.postal),1),e("div",st,"Nummer: "+f(t.value.no),1)]),e("a",{class:"absolute bottom-5 right-5 underline text-indigo-500 hover:text-indigo-800",href:"http://"+t.value.webaddress},f(t.value.webaddress),9,ot)]),e("div",at,[e("div",lt,[nt,e("div",it,[ct,C(e("input",{class:"ml-1 mb-1 rounded",type:"checkbox",name:"",id:"","onUpdate:modelValue":g[0]||(g[0]=r=>A.value=r),onClick:g[1]||(g[1]=r=>$.value?V($.value):null)},null,512),[[ce,A.value]])])]),e("div",rt,[(u(!0),p(I,null,K(s.value,(r,k)=>(u(),W(b(pe),{key:r.gClassID},{default:D(({open:y,close:w})=>[m(b(ue),{class:N(["flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-indigo-900 bg-indigo-100 rounded-t-lg hover:bg-indigo-200 focus:outline-none focus-visible:ring focus-visible:ring-indigo-500 focus-visible:ring-opacity-75",[r.matches.length?"":"!text-gray-600 !bg-gray-200",y?"":"my-1 rounded-lg"]]),onClick:_=>($.value=r.gClassID,U(r.gClassID),V(r.gClassID)),disabled:!r.matches.length},{default:D(()=>[e("span",null,f(r.gClassSname),1),e("span",dt,f(r.matches.length?"":"spielfrei"),1),m(b(de),{class:N(["w-5 h-5 text-indigo-900",[y?"transform rotate-180":"",r.matches.length?"":"!text-gray-500"]])},null,8,["class"])]),_:2},1032,["class","onClick","disabled"]),m(b(me),{class:"px-4 pt-4 pb-2 text-sm text-gray-500 bg-indigo-100 rounded-b-lg"},{default:D(({close:_})=>[ut,m(x,{to:"team",class:"ml-auto mr-0 w-fit block underline-offset-2 underline hover:text-indigo-700 text-indigo-900"},{default:D(()=>[ht]),_:1}),a.value?(u(),p("div",vt,"Loading...")):(u(),p("div",ft,[mt,C(e("div",pt,[C(e("div",_t," Keine zuk\xFCnftigen Spiele ",512),[[j,!A.value]]),C(e("div",null," Keine Spiele in dieser Klasse ",512),[[j,A.value]])],512),[[j,!n.value.length]]),(u(!0),p(I,null,K(n.value,d=>(u(),p("div",gt,[e("div",xt,[e("div",bt,f(d.gHomeTeam)+" : "+f(d.gGuestTeam),1),e("div",yt,[e("div",wt,f(d.gWDay)+" "+f(d.gDate),1),e("div",$t,[m(b(he),{class:"h-4 mr-1 text-indigo-900"}),F(" "+f(d.gTime),1)])]),e("div",kt,[m(b(ve),{class:"h-4 w-4 text-indigo-900 shrink-0"}),e("span",Ct,f(d.gGymnasiumName),1)]),e("div",jt,[e("div",St,f(d.gHomeGoals),1),Dt,e("div",Ft,f(d.gGuestGoals),1)]),e("div",{id:"info",class:N(["col-span-3 text-gray-600",d.gComment.length>1?"flex":"hidden"])},[m(b(fe),{class:"h-4 w-4 mt-1 mr-1"}),F(" "+f(d.gComment),1)],2)])]))),256))]))]),_:2},1024),C(e("button",{ref_for:!0,ref:_=>O.value[k]=_,"data-id":r.gClassID,onClick:_=>q(w,y)},null,8,It),[[j,!1]])]),_:2},1024))),128))])])])}}},Nt={class:"w-full h-full"},At={class:"mr-5 transition-all"},Kt=["onClick"],Lt={key:1,class:"w-[calc(100%-4rem)] h-full ml-auto mr-0 flex justify-center items-center px-5"},Ot=e("span",{class:"text-lg"},[F(" Noch keine Favoriten angelegt. "),e("br"),F(" Gehen Sie daf\xFCr zur Suche oder den Ligen. ")],-1),Rt=[Ot],Tt={setup(S){const h=c([]),i=c({}),v=c(!1),t=a=>{i.value=a,localStorage.setItem("selectedFavorite",JSON.stringify(a))},s=()=>{const a=localStorage.getItem("selectedFavorite");a?i.value=JSON.parse(a):i.value={};let n=!1;h.value.forEach($=>{$==i.value&&(n=!0)}),n||(i.value=h.value[0])},l=async()=>{const a=localStorage.getItem("favorites");a?h.value=JSON.parse(a):h.value=[],s()};return T(async()=>{await l(),await s()}),(a,n)=>(u(),p("div",Nt,[e("div",{id:"menu",class:N(["h-full z-10 pl-5 w-[calc(50%+4rem)] bg-indigo-200 transition-all duration-300 fixed",v.value?"left-0":"-left-1/2"])},[m(b(_e),{class:"h-8 w-8 m-5 ml-auto mr-5",onClick:n[0]||(n[0]=$=>v.value=!v.value)}),e("div",At,[e("p",{class:N(["font-bold",v.value?"":"ml-[calc(100%-2.5rem)] -mr-2"])},"Verein",2),(u(!0),p(I,null,K(h.value,$=>(u(),p("div",{class:N(["rounded-lg shadow-2xl hover:scale-95 scale-100 transition all bg-indigo-600 h-9 break-all text-indigo-100 p-2 my-1 overflow-hidden",v.value?"":"ml-[calc(100%-3.2rem)] -mr-2"]),onClick:E=>t($)},f($.name),11,Kt))),256))])],2),i.value&&i.value.type=="club"?(u(),W(B,{class:"w-[calc(100%-4rem)] ml-auto mr-0",club_no:i.value.no,key:i.value.no,onUpdateFavorites:l},null,8,["club_no"])):(u(),p("div",Lt,Rt))]))}},Et={},Vt={},zt={},Gt=[{path:"/h4y//",component:M,meta:{KeepAlive:!0}},{path:"/h4y//leagues",component:M,meta:{KeepAlive:!0}},{path:"/h4y//favorites",component:Tt,meta:{KeepAlive:!0}},{path:"/h4y//search",component:Pe,meta:{KeepAlive:!0}},{path:"/h4y//match",component:Vt,meta:{KeepAlive:!0}},{path:"/h4y//club",component:B,meta:{KeepAlive:!0}},{path:"/h4y//gym",component:zt,meta:{KeepAlive:!0}},{path:"/h4y//settings",component:Et,meta:{KeepAlive:!0}}],Mt=ge({history:xe(),routes:Gt}),P=be(Le);P.use(Mt);P.mount("#app");
